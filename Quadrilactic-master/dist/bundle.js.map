{"version":3,"sources":["webpack:///bundle.js","webpack:///webpack/bootstrap 7b016798911401077784","webpack:///./src/main.ts","webpack:///./src/renderer.ts","webpack:///./src/background.ts","webpack:///./src/sprite.ts","webpack:///./src/player.ts","webpack:///./src/physicsBlock.ts","webpack:///./src/block.ts","webpack:///./src/particle.ts","webpack:///./src/collider.ts","webpack:///./src/scoreboard.ts","webpack:///./src/viewport.ts","webpack:///./src/menu.ts","webpack:///./src/volume.ts","webpack:///./src/sound.ts","webpack:///./src/platform.ts","webpack:///./src/controller.ts"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","require","renderer_1","controller_1","canvas","document","getElementById","controller","Controller","Renderer","Start","window","onload","focus","onclick","apply","undefined","player_1","collider_1","scoreboard_1","background_1","viewport_1","menu_1","volume_1","platform_1","Renderer.constructor","Renderer.Start","Renderer.Tick","Renderer.Draw","sprite_1","Background","Background.constructor","Background.SlideUpTo","Background.Render","Background.Reset","Sprite","Sprite.constructor","set","Sprite.dimensions","enumerable","configurable","Sprite.Render","Sprite.loaded","__extends","this","d","b","__","constructor","hasOwnProperty","prototype","Object","create","physicsBlock_1","Player","_super","Player.constructor","Player.Tick","Player.Bounce","Player.Render","Player.Reset","PhysicsBlock","block_1","PhysicsBlock.constructor","get","PhysicsBlock.gravity","PhysicsBlock.onBounce","PhysicsBlock.Tick","PhysicsBlock.Render","PhysicsBlock.VerticalBounce","PhysicsBlock.Reset","Block","particle_1","Block.constructor","Block.xPosition","Block.yPosition","Block.xSpeed","Block.ySpeed","Block.width","Block.height","Block.fillColor","Block.left","Block.right","Block.top","Block.bottom","Block.centerXPosition","Block.centerYPosition","Block.onMove","Block.skewedPosition","Block.direction","Block.Tick","Block.Render","Block.Reset","Particle","Particle.constructor","Particle.centerXPosition","Particle.centerYPosition","Particle.Render","Collider","Collider.processCollisions","Scoreboard","Scoreboard.constructor","Scoreboard.Render","Scoreboard.totalPoints","Scoreboard.Reset","Viewport","Viewport.constructor","Viewport.renderDimensions","Viewport.offset","Viewport.SlideUpTo","Viewport.Render","Viewport.Reset","Viewport.RenderSubSet","Menu","Menu.constructor","Menu.Render","Menu.showMenu","Menu.isPointOnButton","sound_1","Volume","Volume.constructor","Volume.Render","Volume.createSound","Volume.isPointOnButton","Volume.changeVolume","Sound","Sound.constructor","Sound.play","Sound.volume","Platform","Platform.constructor","Platform.bottomOfScreen","Platform.offscreenAmount","Platform.Tick","Platform.Render","Controller.constructor","Controller.isKeyPressed","Controller.getMousePosition","Controller.getClickPosition","Controller.clearClick","Controller.handleKeyUp","Controller.handleKeyDown","Controller.handleMouseMove","Controller.handleMouseDown"],"mappings":"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","file":"bundle.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"dist/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(1), __webpack_require__(15)], __WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, renderer_1, controller_1) {\r\n\t    var canvas = document.getElementById(\"viewport\");\r\n\t    var controller = new controller_1.Controller(canvas);\r\n\t    new renderer_1.Renderer(canvas, controller).Start();\r\n\t    // Ensure keyboard events when loaded in an iframe (fix for itch.io)\r\n\t    window.onload = function () {\r\n\t        window.focus();\r\n\t    };\r\n\t    window.onclick = function () {\r\n\t        window.focus();\r\n\t    };\r\n\t}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\r\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(4), __webpack_require__(8), __webpack_require__(9), __webpack_require__(2), __webpack_require__(10), __webpack_require__(11), __webpack_require__(12), __webpack_require__(14)], __WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, player_1, collider_1, scoreboard_1, background_1, viewport_1, menu_1, volume_1, platform_1) {\r\n\t    var Renderer = (function () {\r\n\t        function Renderer(canvas, controller) {\r\n\t            var _this = this;\r\n\t            // State\r\n\t            this.isRunning = false;\r\n\t            this.canvas = canvas;\r\n\t            this.context = canvas.getContext(\"2d\");\r\n\t            this.controller = controller;\r\n\t            this.volume = new volume_1.Volume({\r\n\t                x: this.canvas.width,\r\n\t                y: this.canvas.height\r\n\t            }, controller);\r\n\t            this.backgroundMusic = this.volume.createSound(\"snd/music.wav\", { isLooping: true });\r\n\t            this.backgroundMusic.play();\r\n\t            this.deathSound = this.volume.createSound(\"snd/death.wav\", {});\r\n\t            var playerPosition = {\r\n\t                dX: 2,\r\n\t                dY: -2,\r\n\t                x: 30,\r\n\t                y: 110\r\n\t            };\r\n\t            var playerDimensions = {\r\n\t                x: 30,\r\n\t                y: 30\r\n\t            };\r\n\t            this.player = new player_1.Player(playerPosition, playerDimensions, \"#FF0000\", controller, Renderer.defaultGravity, Renderer.gameWidth, this.volume);\r\n\t            this.background = new background_1.Background({ x: 0, y: 0 }, { x: this.canvas.width, y: this.canvas.height }, \"#222222\", this.player);\r\n\t            var platformPosition = {\r\n\t                dX: 2,\r\n\t                dY: 2,\r\n\t                x: 30,\r\n\t                y: 690\r\n\t            };\r\n\t            var platformDimensions = {\r\n\t                x: 90,\r\n\t                y: 20\r\n\t            };\r\n\t            this.platform = new platform_1.Platform(platformPosition, platformDimensions, \"#FFFFFF\", -Renderer.defaultGravity, this.volume, Renderer.gameWidth);\r\n\t            this.platform.onBounce = function () {\r\n\t                if (_this.platform.ySpeed < Renderer.minimumPlatformReboundSpeed) {\r\n\t                    _this.platform.ySpeed = Renderer.minimumPlatformReboundSpeed;\r\n\t                }\r\n\t            };\r\n\t            var scoreboardPosition = {\r\n\t                dX: 0,\r\n\t                dY: 0,\r\n\t                x: 20,\r\n\t                y: 370\r\n\t            };\r\n\t            var scoreboardDimensions = {\r\n\t                x: 0,\r\n\t                y: 0\r\n\t            };\r\n\t            this.scoreboard = new scoreboard_1.Scoreboard(this.player, scoreboardPosition, scoreboardDimensions, \"rgba(255,255,255, 0.1)\");\r\n\t            this.menu = new menu_1.Menu({\r\n\t                x: this.canvas.width,\r\n\t                y: this.canvas.height\r\n\t            }, controller, this.background, function () {\r\n\t                _this.player.Reset();\r\n\t                _this.platform.Reset();\r\n\t                _this.viewport.Reset();\r\n\t                _this.scoreboard.Reset();\r\n\t                _this.background.Reset();\r\n\t                _this.isRunning = true;\r\n\t            }, this.volume);\r\n\t            this.viewport = new viewport_1.Viewport(this.context, [this.background, this.scoreboard], [], [this.player, this.platform]);\r\n\t            this.platform.viewport = this.viewport;\r\n\t            var originalOnMove = this.player.onMove;\r\n\t            this.player.onMove = function (amountMoved) {\r\n\t                _this.viewport.SlideUpTo(-_this.player.yPosition + 50);\r\n\t                _this.background.SlideUpTo(-_this.player.yPosition);\r\n\t                if (_this.player.yPosition > -(_this.viewport.offset - _this.canvas.height)) {\r\n\t                    _this.isRunning = false;\r\n\t                    _this.deathSound.play();\r\n\t                    _this.menu.showMenu(_this.scoreboard.totalPoints, _this.player.fillColor);\r\n\t                }\r\n\t                if (originalOnMove) {\r\n\t                    originalOnMove(amountMoved);\r\n\t                }\r\n\t            };\r\n\t        }\r\n\t        Renderer.prototype.Start = function () {\r\n\t            var _this = this;\r\n\t            requestAnimationFrame(function (time) { _this.Tick(time); });\r\n\t        };\r\n\t        Renderer.prototype.Tick = function (timestamp) {\r\n\t            var _this = this;\r\n\t            var deltaTime = this.lastTimestamp ? (timestamp - this.lastTimestamp) : 0;\r\n\t            var scaledTime = deltaTime / Renderer.timescale;\r\n\t            this.lastTimestamp = timestamp;\r\n\t            this.lastFps = Math.round(1000 / deltaTime);\r\n\t            this.Draw();\r\n\t            if (this.isRunning === true) {\r\n\t                this.player.Tick(scaledTime);\r\n\t                this.platform.Tick(scaledTime);\r\n\t                collider_1.Collider.processCollisions([this.player, this.platform]);\r\n\t            }\r\n\t            this.controller.clearClick();\r\n\t            requestAnimationFrame(function (time) { _this.Tick(time); });\r\n\t        };\r\n\t        Renderer.prototype.Draw = function () {\r\n\t            if (this.isRunning) {\r\n\t                this.viewport.Render(this.lastFps);\r\n\t            }\r\n\t            else {\r\n\t                this.menu.Render(this.context);\r\n\t            }\r\n\t            this.volume.Render(this.context);\r\n\t        };\r\n\t        // Constants\r\n\t        Renderer.defaultGravity = 0.2;\r\n\t        Renderer.gameWidth = 480;\r\n\t        Renderer.minimumPlatformReboundSpeed = 10;\r\n\t        Renderer.timescale = 16;\r\n\t        return Renderer;\r\n\t    })();\r\n\t    exports.Renderer = Renderer;\r\n\t}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\r\n\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(3)], __WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, sprite_1) {\r\n\t    var Background = (function () {\r\n\t        function Background(renderPosition, renderDimensions, color, player) {\r\n\t            this.isAlive = true;\r\n\t            this.showArrow = false;\r\n\t            this.offset = 0;\r\n\t            this.renderPosition = renderPosition;\r\n\t            this.renderDimensions = renderDimensions;\r\n\t            this.color = color;\r\n\t            this.staticBackground = new sprite_1.Sprite(\"img/staticBackground.png\", renderDimensions);\r\n\t            this.stars1 = new sprite_1.Sprite(\"img/stars1.png\", { x: renderDimensions.x, y: renderDimensions.y * 2 });\r\n\t            this.stars2 = new sprite_1.Sprite(\"img/stars2.png\", { x: renderDimensions.x, y: renderDimensions.y * 2 });\r\n\t            this.upArrow = new sprite_1.Sprite(\"img/upArrow.png\", { x: 120, y: 99 });\r\n\t        }\r\n\t        Background.prototype.SlideUpTo = function (y) {\r\n\t            if (y > this.offset) {\r\n\t                this.offset = y;\r\n\t            }\r\n\t        };\r\n\t        Background.prototype.Render = function (renderContext) {\r\n\t            var result = [];\r\n\t            result = result.concat(this.staticBackground.Render(renderContext));\r\n\t            var lowerYPosition1 = this.offset % (this.renderDimensions.y * 2);\r\n\t            var upperYPosition1 = lowerYPosition1 - (this.renderDimensions.y * 2);\r\n\t            renderContext.save();\r\n\t            renderContext.translate(0, lowerYPosition1);\r\n\t            result = result.concat(this.stars1.Render(renderContext));\r\n\t            renderContext.restore();\r\n\t            renderContext.save();\r\n\t            renderContext.translate(0, upperYPosition1);\r\n\t            result = result.concat(this.stars1.Render(renderContext));\r\n\t            renderContext.restore();\r\n\t            var lowerYPosition2 = (this.offset / 2) % (this.renderDimensions.y * 2);\r\n\t            var upperYPosition2 = lowerYPosition2 - (this.renderDimensions.y * 2);\r\n\t            renderContext.save();\r\n\t            renderContext.translate(0, lowerYPosition2);\r\n\t            result = result.concat(this.stars2.Render(renderContext));\r\n\t            renderContext.restore();\r\n\t            renderContext.save();\r\n\t            renderContext.translate(0, upperYPosition2);\r\n\t            result = result.concat(this.stars2.Render(renderContext));\r\n\t            renderContext.restore();\r\n\t            if (this.showArrow && this.offset < (this.renderDimensions.y * 2)) {\r\n\t                renderContext.save();\r\n\t                renderContext.globalAlpha = 0.5;\r\n\t                renderContext.translate(300, this.offset + 40);\r\n\t                this.upArrow.Render(renderContext);\r\n\t                renderContext.restore();\r\n\t            }\r\n\t            return result;\r\n\t        };\r\n\t        Background.prototype.Reset = function () {\r\n\t            this.showArrow = true;\r\n\t            this.offset = 0;\r\n\t        };\r\n\t        return Background;\r\n\t    })();\r\n\t    exports.Background = Background;\r\n\t}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\r\n\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports], __WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports) {\r\n\t    var Sprite = (function () {\r\n\t        function Sprite(imagePath, dimensions) {\r\n\t            var _this = this;\r\n\t            this.isAlive = true;\r\n\t            this.image = new Image();\r\n\t            this.image.addEventListener(\"load\", function () { _this.loaded(); }, false);\r\n\t            this.image.src = imagePath;\r\n\t            this.dimensions = dimensions;\r\n\t        }\r\n\t        Object.defineProperty(Sprite.prototype, \"dimensions\", {\r\n\t            set: function (dimensions) {\r\n\t                this.internalDimensions = dimensions;\r\n\t            },\r\n\t            enumerable: true,\r\n\t            configurable: true\r\n\t        });\r\n\t        Sprite.prototype.Render = function (renderContext) {\r\n\t            renderContext.drawImage(this.image, \r\n\t            // Source dimensions\r\n\t            0, 0, this.image.width, this.image.height, \r\n\t            // Destination dimensions\r\n\t            0, 0, this.internalDimensions.x, this.internalDimensions.y);\r\n\t            return [];\r\n\t        };\r\n\t        Sprite.prototype.loaded = function () {\r\n\t            console.log(\"Loaded: \" + this.image.src);\r\n\t        };\r\n\t        return Sprite;\r\n\t    })();\r\n\t    exports.Sprite = Sprite;\r\n\t}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\r\n\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __extends = (this && this.__extends) || function (d, b) {\r\n\t    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\r\n\t    function __() { this.constructor = d; }\r\n\t    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n\t};\r\n\t!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(5), __webpack_require__(3)], __WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, physicsBlock_1, sprite_1) {\r\n\t    var Player = (function (_super) {\r\n\t        __extends(Player, _super);\r\n\t        function Player(worldPosition, dimensions, color, controller, gravity, worldWidth, volume) {\r\n\t            _super.call(this, worldPosition, dimensions, color, gravity, volume, 7, worldWidth);\r\n\t            this.onBounce = this.Bounce;\r\n\t            this.controller = controller;\r\n\t            this.isJumping = false;\r\n\t            this.jumpRotationAmount = 0;\r\n\t            this.faceUp = new sprite_1.Sprite(\"img/faceHappy.png\", dimensions);\r\n\t            this.faceDown = new sprite_1.Sprite(\"img/faceWorried.png\", dimensions);\r\n\t            this.faceHover = new sprite_1.Sprite(\"img/faceChill.png\", dimensions);\r\n\t            this.jump = volume.createSound(\"snd/jump.wav\", {});\r\n\t            this.bounce = volume.createSound(\"snd/blip3.wav\", {});\r\n\t        }\r\n\t        Player.prototype.Tick = function (deltaTime) {\r\n\t            _super.prototype.Tick.call(this, deltaTime);\r\n\t            // Perform the jump\r\n\t            if (!this.isJumping && this.controller.isKeyPressed([\"up\", \"space\", \"w\"])) {\r\n\t                this.jump.play();\r\n\t                this.ySpeed = Player.jumpSpeedIncrease * deltaTime;\r\n\t                this.isJumping = true;\r\n\t                this.jumpRotationSpeed = this.direction === \"right\" ? Player.initialJumpRotationSpeed : -Player.initialJumpRotationSpeed;\r\n\t            }\r\n\t            // Allow influence over horizontal direction\r\n\t            if (this.controller.isKeyPressed([\"left\", \"a\"])) {\r\n\t                this.xSpeed -= (Player.horizontalSpeedIncrease * deltaTime);\r\n\t            }\r\n\t            if (this.controller.isKeyPressed([\"right\", \"d\"])) {\r\n\t                this.xSpeed += (Player.horizontalSpeedIncrease * deltaTime);\r\n\t            }\r\n\t            // Apply jump rotation\r\n\t            this.jumpRotationAmount += (this.jumpRotationSpeed * deltaTime);\r\n\t            if (this.jumpRotationSpeed > 0) {\r\n\t                this.jumpRotationSpeed = Math.max(0, this.jumpRotationSpeed - Player.jumpRotationSlowDown);\r\n\t            }\r\n\t            else if (this.jumpRotationSpeed < 0) {\r\n\t                this.jumpRotationSpeed = Math.min(0, this.jumpRotationSpeed + Player.jumpRotationSlowDown);\r\n\t            }\r\n\t            this.jumpRotationAmount += this.xSpeed / 2;\r\n\t        };\r\n\t        Player.prototype.Bounce = function () {\r\n\t            // If we were jumping, thats over now\r\n\t            this.isJumping = false;\r\n\t            this.jumpRotationAmount = 0;\r\n\t            this.jumpRotationSpeed = 0;\r\n\t            this.bounce.play();\r\n\t        };\r\n\t        Player.prototype.Render = function (renderContext) {\r\n\t            var _this = this;\r\n\t            renderContext.save();\r\n\t            renderContext.translate(this.centerXPosition, this.centerYPosition);\r\n\t            renderContext.rotate(this.jumpRotationAmount * Player.degrees);\r\n\t            renderContext.translate(-this.centerXPosition, -this.centerYPosition);\r\n\t            var faceSprite;\r\n\t            if (this.ySpeed > Player.faceSwapThreshold) {\r\n\t                faceSprite = this.faceDown;\r\n\t            }\r\n\t            else if (this.ySpeed < -Player.faceSwapThreshold) {\r\n\t                faceSprite = this.faceUp;\r\n\t            }\r\n\t            else {\r\n\t                faceSprite = this.faceHover;\r\n\t            }\r\n\t            var xHexidecimal = Math.max(Math.round(15 - Math.abs(this.xSpeed)), 0).toString(16);\r\n\t            var yHexidecimal = Math.max(Math.round(15 - Math.abs(this.ySpeed)), 0).toString(16);\r\n\t            this.fillColor = \"#\" + yHexidecimal + yHexidecimal + \"ff\" + xHexidecimal + xHexidecimal;\r\n\t            var newRenderables = _super.prototype.Render.call(this, renderContext);\r\n\t            newRenderables.forEach(function (renderable) {\r\n\t                renderable.rotation = _this.jumpRotationAmount;\r\n\t            });\r\n\t            renderContext.restore();\r\n\t            renderContext.save();\r\n\t            renderContext.translate(this.centerXPosition, this.centerYPosition);\r\n\t            renderContext.rotate(this.jumpRotationAmount * Player.degrees);\r\n\t            renderContext.translate(-this.centerXPosition, -this.centerYPosition);\r\n\t            var skewedPosition = this.skewedPosition;\r\n\t            renderContext.translate(skewedPosition.x, skewedPosition.y);\r\n\t            faceSprite.dimensions = {\r\n\t                x: skewedPosition.width,\r\n\t                y: skewedPosition.height\r\n\t            };\r\n\t            newRenderables = newRenderables.concat(faceSprite.Render(renderContext));\r\n\t            renderContext.restore();\r\n\t            return newRenderables;\r\n\t        };\r\n\t        Player.prototype.Reset = function () {\r\n\t            _super.prototype.Reset.call(this);\r\n\t            this.isJumping = false;\r\n\t            this.jumpRotationAmount = 0;\r\n\t            this.jumpRotationSpeed = 0;\r\n\t        };\r\n\t        Player.jumpSpeedIncrease = -8;\r\n\t        Player.degrees = Math.PI / 180;\r\n\t        Player.jumpRotationSlowDown = 0.1;\r\n\t        Player.initialJumpRotationSpeed = 15;\r\n\t        Player.horizontalSpeedIncrease = 0.5;\r\n\t        Player.faceSwapThreshold = 3.5;\r\n\t        return Player;\r\n\t    })(physicsBlock_1.PhysicsBlock);\r\n\t    exports.Player = Player;\r\n\t}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\r\n\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __extends = (this && this.__extends) || function (d, b) {\r\n\t    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\r\n\t    function __() { this.constructor = d; }\r\n\t    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n\t};\r\n\t!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(6)], __WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, block_1) {\r\n\t    var PhysicsBlock = (function (_super) {\r\n\t        __extends(PhysicsBlock, _super);\r\n\t        function PhysicsBlock(worldPosition, dimensions, color, gravity, volume, xSpeedLimit, worldWidth) {\r\n\t            _super.call(this, worldPosition, dimensions, color, xSpeedLimit);\r\n\t            this.internalGravity = gravity;\r\n\t            this.worldWidth = worldWidth;\r\n\t            this.rebound = volume.createSound(\"snd/blip.wav\", {});\r\n\t        }\r\n\t        Object.defineProperty(PhysicsBlock.prototype, \"gravity\", {\r\n\t            get: function () {\r\n\t                return this.internalGravity;\r\n\t            },\r\n\t            set: function (newValue) {\r\n\t                this.internalGravity = newValue;\r\n\t            },\r\n\t            enumerable: true,\r\n\t            configurable: true\r\n\t        });\r\n\t        Object.defineProperty(PhysicsBlock.prototype, \"onBounce\", {\r\n\t            get: function () {\r\n\t                return this.onBounceCallback;\r\n\t            },\r\n\t            set: function (newValue) {\r\n\t                this.onBounceCallback = newValue;\r\n\t            },\r\n\t            enumerable: true,\r\n\t            configurable: true\r\n\t        });\r\n\t        PhysicsBlock.prototype.Tick = function (deltaTime) {\r\n\t            _super.prototype.Tick.call(this, deltaTime);\r\n\t            // If off the right, bounce left\r\n\t            if (this.right > this.worldWidth) {\r\n\t                this.rebound.play();\r\n\t                // Clamp on screen, invert horizontal speed\r\n\t                this.skew += 3;\r\n\t                this.xPosition = this.worldWidth - this.width;\r\n\t                this.xSpeed = -Math.abs(this.xSpeed);\r\n\t            }\r\n\t            // If off the left, bounce right\r\n\t            if (this.left < 0) {\r\n\t                this.rebound.play();\r\n\t                // Clamp on screen, invert horizontal speed\r\n\t                this.xPosition = 0;\r\n\t                this.skew += 3;\r\n\t                this.xSpeed = Math.abs(this.xSpeed);\r\n\t            }\r\n\t            // Apply acceleration due to gravity\r\n\t            this.ySpeed += (this.internalGravity * deltaTime);\r\n\t        };\r\n\t        PhysicsBlock.prototype.Render = function (renderContext) {\r\n\t            return _super.prototype.Render.call(this, renderContext);\r\n\t        };\r\n\t        PhysicsBlock.prototype.VerticalBounce = function (newYSpeed) {\r\n\t            this.ySpeed = newYSpeed;\r\n\t            this.skew += 10;\r\n\t            // Allow insertion of bouncing code\r\n\t            if (this.onBounceCallback) {\r\n\t                this.onBounceCallback();\r\n\t            }\r\n\t        };\r\n\t        PhysicsBlock.prototype.Reset = function () {\r\n\t            _super.prototype.Reset.call(this);\r\n\t        };\r\n\t        return PhysicsBlock;\r\n\t    })(block_1.Block);\r\n\t    exports.PhysicsBlock = PhysicsBlock;\r\n\t}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\r\n\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(7)], __WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, particle_1) {\r\n\t    var Block = (function () {\r\n\t        function Block(worldPosition, dimensions, color, xSpeedLimit) {\r\n\t            this.isAlive = true;\r\n\t            this.worldPosition = worldPosition;\r\n\t            this.dimensions = dimensions;\r\n\t            this.internalColor = color;\r\n\t            this.horizontalSpeedLimit = xSpeedLimit;\r\n\t            this.verticalSpeedLimit = Block.verticalSpeedLimit;\r\n\t            this.initialWorldPosition = {\r\n\t                dX: worldPosition.dX,\r\n\t                dY: worldPosition.dY,\r\n\t                x: worldPosition.x,\r\n\t                y: worldPosition.y\r\n\t            };\r\n\t            this.skew = 0;\r\n\t        }\r\n\t        Object.defineProperty(Block.prototype, \"xPosition\", {\r\n\t            // Position properties\r\n\t            get: function () {\r\n\t                return this.worldPosition.x;\r\n\t            },\r\n\t            set: function (newValue) {\r\n\t                this.worldPosition.x = newValue;\r\n\t            },\r\n\t            enumerable: true,\r\n\t            configurable: true\r\n\t        });\r\n\t        Object.defineProperty(Block.prototype, \"yPosition\", {\r\n\t            get: function () {\r\n\t                return this.worldPosition.y;\r\n\t            },\r\n\t            set: function (newValue) {\r\n\t                this.worldPosition.y = newValue;\r\n\t            },\r\n\t            enumerable: true,\r\n\t            configurable: true\r\n\t        });\r\n\t        Object.defineProperty(Block.prototype, \"xSpeed\", {\r\n\t            get: function () {\r\n\t                return this.worldPosition.dX;\r\n\t            },\r\n\t            set: function (newValue) {\r\n\t                this.worldPosition.dX = newValue;\r\n\t            },\r\n\t            enumerable: true,\r\n\t            configurable: true\r\n\t        });\r\n\t        Object.defineProperty(Block.prototype, \"ySpeed\", {\r\n\t            get: function () {\r\n\t                return this.worldPosition.dY;\r\n\t            },\r\n\t            set: function (newValue) {\r\n\t                this.worldPosition.dY = newValue;\r\n\t            },\r\n\t            enumerable: true,\r\n\t            configurable: true\r\n\t        });\r\n\t        Object.defineProperty(Block.prototype, \"width\", {\r\n\t            get: function () {\r\n\t                return this.dimensions.x;\r\n\t            },\r\n\t            enumerable: true,\r\n\t            configurable: true\r\n\t        });\r\n\t        Object.defineProperty(Block.prototype, \"height\", {\r\n\t            get: function () {\r\n\t                return this.dimensions.y;\r\n\t            },\r\n\t            enumerable: true,\r\n\t            configurable: true\r\n\t        });\r\n\t        Object.defineProperty(Block.prototype, \"fillColor\", {\r\n\t            get: function () {\r\n\t                return this.internalColor;\r\n\t            },\r\n\t            set: function (newValue) {\r\n\t                this.internalColor = newValue;\r\n\t            },\r\n\t            enumerable: true,\r\n\t            configurable: true\r\n\t        });\r\n\t        Object.defineProperty(Block.prototype, \"left\", {\r\n\t            get: function () {\r\n\t                return this.worldPosition.x;\r\n\t            },\r\n\t            enumerable: true,\r\n\t            configurable: true\r\n\t        });\r\n\t        Object.defineProperty(Block.prototype, \"right\", {\r\n\t            get: function () {\r\n\t                return this.worldPosition.x + this.dimensions.x;\r\n\t            },\r\n\t            enumerable: true,\r\n\t            configurable: true\r\n\t        });\r\n\t        Object.defineProperty(Block.prototype, \"top\", {\r\n\t            get: function () {\r\n\t                return this.worldPosition.y;\r\n\t            },\r\n\t            enumerable: true,\r\n\t            configurable: true\r\n\t        });\r\n\t        Object.defineProperty(Block.prototype, \"bottom\", {\r\n\t            get: function () {\r\n\t                return this.worldPosition.y + this.dimensions.y;\r\n\t            },\r\n\t            enumerable: true,\r\n\t            configurable: true\r\n\t        });\r\n\t        Object.defineProperty(Block.prototype, \"centerXPosition\", {\r\n\t            get: function () {\r\n\t                return this.left + (this.width / 2);\r\n\t            },\r\n\t            enumerable: true,\r\n\t            configurable: true\r\n\t        });\r\n\t        Object.defineProperty(Block.prototype, \"centerYPosition\", {\r\n\t            get: function () {\r\n\t                return this.top + (this.height / 2);\r\n\t            },\r\n\t            enumerable: true,\r\n\t            configurable: true\r\n\t        });\r\n\t        Object.defineProperty(Block.prototype, \"onMove\", {\r\n\t            get: function () {\r\n\t                return this.onMoveCallback;\r\n\t            },\r\n\t            set: function (newValue) {\r\n\t                this.onMoveCallback = newValue;\r\n\t            },\r\n\t            enumerable: true,\r\n\t            configurable: true\r\n\t        });\r\n\t        Object.defineProperty(Block.prototype, \"skewedPosition\", {\r\n\t            get: function () {\r\n\t                var skewAdjustment = this.skew === 0 ? 0 : Math.sin(this.skew);\r\n\t                skewAdjustment = skewAdjustment * this.skew;\r\n\t                var widthAdjustment = (skewAdjustment * this.width * Block.skewScale);\r\n\t                var heightAdjustment = (skewAdjustment * this.height * Block.skewScale);\r\n\t                return {\r\n\t                    height: this.height + heightAdjustment,\r\n\t                    width: this.width - widthAdjustment,\r\n\t                    x: this.xPosition + (widthAdjustment / 2),\r\n\t                    y: this.yPosition - (heightAdjustment / 2)\r\n\t                };\r\n\t            },\r\n\t            enumerable: true,\r\n\t            configurable: true\r\n\t        });\r\n\t        Object.defineProperty(Block.prototype, \"direction\", {\r\n\t            // Direction properties\r\n\t            get: function () {\r\n\t                return this.xSpeed >= 0 ? \"right\" : \"left\";\r\n\t            },\r\n\t            enumerable: true,\r\n\t            configurable: true\r\n\t        });\r\n\t        Block.prototype.Tick = function (deltaTime) {\r\n\t            // Move \"forward\".\r\n\t            this.xPosition += (this.xSpeed * deltaTime);\r\n\t            this.yPosition += (this.ySpeed * deltaTime);\r\n\t            if (this.onMoveCallback) {\r\n\t                // The amount moved this tick is the same as the speed.\r\n\t                this.onMoveCallback({ x: this.xSpeed, y: this.ySpeed });\r\n\t            }\r\n\t            this.skew = Math.max(0, this.skew - (Block.skewReduction * deltaTime));\r\n\t            this.verticalSpeedLimit += Block.verticalSpeedLimitDelta * deltaTime;\r\n\t            // Clamp the speed to the speed limit.\r\n\t            this.ySpeed = Math.min(this.ySpeed, this.verticalSpeedLimit);\r\n\t            this.ySpeed = Math.max(this.ySpeed, -this.verticalSpeedLimit);\r\n\t            this.xSpeed = Math.min(this.xSpeed, this.horizontalSpeedLimit);\r\n\t            this.xSpeed = Math.max(this.xSpeed, -this.horizontalSpeedLimit);\r\n\t        };\r\n\t        Block.prototype.Render = function (renderContext) {\r\n\t            renderContext.beginPath();\r\n\t            var skewedPosition = this.skewedPosition;\r\n\t            renderContext.rect(skewedPosition.x, skewedPosition.y, skewedPosition.width, skewedPosition.height);\r\n\t            renderContext.fillStyle = this.fillColor;\r\n\t            renderContext.fill();\r\n\t            renderContext.closePath();\r\n\t            var particle = new particle_1.Particle(skewedPosition.x, skewedPosition.y, skewedPosition.width, skewedPosition.height, 0, this.fillColor, 0.1);\r\n\t            return [particle];\r\n\t        };\r\n\t        Block.prototype.Reset = function () {\r\n\t            this.worldPosition = {\r\n\t                dX: this.initialWorldPosition.dX,\r\n\t                dY: this.initialWorldPosition.dY,\r\n\t                x: this.initialWorldPosition.x,\r\n\t                y: this.initialWorldPosition.y\r\n\t            };\r\n\t            this.verticalSpeedLimit = Block.verticalSpeedLimit;\r\n\t        };\r\n\t        // Constants\r\n\t        Block.verticalSpeedLimit = 10;\r\n\t        Block.verticalSpeedLimitDelta = 0.01;\r\n\t        Block.skewScale = 0.07;\r\n\t        Block.skewReduction = 0.3;\r\n\t        return Block;\r\n\t    })();\r\n\t    exports.Block = Block;\r\n\t}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\r\n\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports], __WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports) {\r\n\t    var Particle = (function () {\r\n\t        function Particle(xPosition, yPosition, width, height, rotation, color, opacity) {\r\n\t            this.xPosition = xPosition;\r\n\t            this.yPosition = yPosition;\r\n\t            this.width = width;\r\n\t            this.height = height;\r\n\t            this.rotation = rotation;\r\n\t            this.color = color;\r\n\t            this.opacity = opacity;\r\n\t            this.isAlive = true;\r\n\t        }\r\n\t        Object.defineProperty(Particle.prototype, \"centerXPosition\", {\r\n\t            get: function () {\r\n\t                return this.xPosition + (this.width / 2);\r\n\t            },\r\n\t            enumerable: true,\r\n\t            configurable: true\r\n\t        });\r\n\t        Object.defineProperty(Particle.prototype, \"centerYPosition\", {\r\n\t            get: function () {\r\n\t                return this.yPosition + (this.height / 2);\r\n\t            },\r\n\t            enumerable: true,\r\n\t            configurable: true\r\n\t        });\r\n\t        Particle.prototype.Render = function (renderContext) {\r\n\t            this.opacity -= 0.005;\r\n\t            if (this.opacity <= 0) {\r\n\t                this.isAlive = false;\r\n\t            }\r\n\t            else {\r\n\t                renderContext.save();\r\n\t                renderContext.globalAlpha = this.opacity;\r\n\t                renderContext.translate(this.centerXPosition, this.centerYPosition);\r\n\t                renderContext.rotate(this.rotation * Particle.degrees);\r\n\t                renderContext.translate(-this.centerXPosition, -this.centerYPosition);\r\n\t                renderContext.beginPath();\r\n\t                renderContext.rect(this.xPosition, this.yPosition, this.width, this.height);\r\n\t                renderContext.fillStyle = this.color;\r\n\t                renderContext.fill();\r\n\t                renderContext.closePath();\r\n\t                renderContext.globalAlpha = 1;\r\n\t                renderContext.restore();\r\n\t            }\r\n\t            return [];\r\n\t        };\r\n\t        Particle.degrees = Math.PI / 180;\r\n\t        return Particle;\r\n\t    })();\r\n\t    exports.Particle = Particle;\r\n\t}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\r\n\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports], __WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports) {\r\n\t    var Collider = (function () {\r\n\t        function Collider() {\r\n\t        }\r\n\t        Collider.processCollisions = function (collidables) {\r\n\t            if (collidables.length <= 1) {\r\n\t                // Need multiple objects to perform collisions\r\n\t                return;\r\n\t            }\r\n\t            for (var i = 0; i < collidables.length - 1; i++) {\r\n\t                var collisionAction = function (subject, newYSpeed) {\r\n\t                    subject.VerticalBounce(newYSpeed);\r\n\t                };\r\n\t                var subject = collidables[i];\r\n\t                for (var j = i + 1; j < collidables.length; j++) {\r\n\t                    var target = collidables[j];\r\n\t                    var isVerticalOverlap = (subject.top < target.bottom) && (subject.bottom > target.top);\r\n\t                    var isHorizontalOverlap = (subject.left < target.right) && (subject.right > target.left);\r\n\t                    if (isVerticalOverlap && isHorizontalOverlap) {\r\n\t                        // Always simulate a vertical bounce\r\n\t                        // If masses are the same speed can be swapped during an elastic collision\r\n\t                        var subjectYSpeed = subject.ySpeed;\r\n\t                        var targetYSpeed = target.ySpeed;\r\n\t                        collisionAction(subject, targetYSpeed);\r\n\t                        collisionAction(target, subjectYSpeed);\r\n\t                        // Only simulate a horizontal bound if the x overlap has just started\r\n\t                        var subjectPreviousLeft = subject.xPosition - subject.xSpeed;\r\n\t                        var subjectPreviousRight = subjectPreviousLeft + subject.width;\r\n\t                        var targetPreviousLeft = target.xPosition - target.xSpeed;\r\n\t                        var targetPreviousRight = targetPreviousLeft + target.width;\r\n\t                        var wasHorizontalOverlap = (subjectPreviousLeft < targetPreviousRight)\r\n\t                            && (subjectPreviousRight > targetPreviousLeft);\r\n\t                        if (!wasHorizontalOverlap) {\r\n\t                            subject.xSpeed = -subject.xSpeed;\r\n\t                            target.xSpeed = -target.xSpeed;\r\n\t                        }\r\n\t                    }\r\n\t                }\r\n\t            }\r\n\t        };\r\n\t        return Collider;\r\n\t    })();\r\n\t    exports.Collider = Collider;\r\n\t}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\r\n\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __extends = (this && this.__extends) || function (d, b) {\r\n\t    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\r\n\t    function __() { this.constructor = d; }\r\n\t    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n\t};\r\n\t!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(6)], __WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, block_1) {\r\n\t    var Scoreboard = (function (_super) {\r\n\t        __extends(Scoreboard, _super);\r\n\t        function Scoreboard(player, worldPosition, dimensions, color) {\r\n\t            var _this = this;\r\n\t            _super.call(this, worldPosition, dimensions, color, 0);\r\n\t            this.player = player;\r\n\t            // Shouldn't have to insert the nested function like this.\r\n\t            this.player.onBounce = function () {\r\n\t                _this.score = Math.round((_this.score + Scoreboard.bouncePoints) * 10) / 10;\r\n\t                _this.player.Bounce();\r\n\t            };\r\n\t            var originalOnMove = this.player.onMove;\r\n\t            this.player.onMove = function (amountMoved) {\r\n\t                var currentHeight = -_this.player.top;\r\n\t                if (currentHeight > _this.greatestHeightReached) {\r\n\t                    _this.greatestHeightReached = currentHeight;\r\n\t                    _this.multiplier = Math.round(_this.greatestHeightReached / 10) / 100;\r\n\t                    _this.points = Math.round(_this.score * _this.multiplier * 10) / 10;\r\n\t                }\r\n\t                if (originalOnMove) {\r\n\t                    originalOnMove(amountMoved);\r\n\t                }\r\n\t            };\r\n\t            this.score = 0;\r\n\t            this.greatestHeightReached = 0;\r\n\t            this.multiplier = 0;\r\n\t            this.points = 0;\r\n\t        }\r\n\t        Scoreboard.prototype.Render = function (renderContext) {\r\n\t            renderContext.beginPath();\r\n\t            renderContext.save();\r\n\t            renderContext.fillStyle = this.fillColor;\r\n\t            renderContext.font = \"\" + Scoreboard.fontSizeInPx + \"px Oswald\";\r\n\t            renderContext.translate(this.centerXPosition, this.centerYPosition);\r\n\t            renderContext.rotate(Scoreboard.fontRotation * Scoreboard.degrees);\r\n\t            renderContext.translate(-this.centerXPosition, -this.centerYPosition);\r\n\t            renderContext.fillText(this.score.toString(), this.xPosition, this.yPosition + Scoreboard.fontSizeInPx);\r\n\t            renderContext.font = \"\" + (Scoreboard.fontSizeInPx / 2) + \"px Oswald\";\r\n\t            renderContext.fillText(\"x \" + this.multiplier.toString(), this.xPosition, this.yPosition + (1.5 * Scoreboard.fontSizeInPx));\r\n\t            renderContext.globalAlpha = 0.5;\r\n\t            renderContext.fillStyle = this.player.fillColor;\r\n\t            renderContext.fillText(\"~ \" + this.points.toString(), this.xPosition, this.yPosition + (2 * Scoreboard.fontSizeInPx));\r\n\t            renderContext.restore();\r\n\t            return [];\r\n\t        };\r\n\t        Object.defineProperty(Scoreboard.prototype, \"totalPoints\", {\r\n\t            get: function () {\r\n\t                return this.points;\r\n\t            },\r\n\t            enumerable: true,\r\n\t            configurable: true\r\n\t        });\r\n\t        Scoreboard.prototype.Reset = function () {\r\n\t            this.score = 0;\r\n\t            this.greatestHeightReached = 0;\r\n\t            this.multiplier = 0;\r\n\t            this.points = 0;\r\n\t        };\r\n\t        Scoreboard.fontSizeInPx = 200;\r\n\t        Scoreboard.fontRotation = 0;\r\n\t        Scoreboard.bouncePoints = 1;\r\n\t        Scoreboard.degrees = Math.PI / 180;\r\n\t        return Scoreboard;\r\n\t    })(block_1.Block);\r\n\t    exports.Scoreboard = Scoreboard;\r\n\t}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\r\n\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports], __WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports) {\r\n\t    var Viewport = (function () {\r\n\t        function Viewport(renderContext, fixedRenderables, backgroundRenderables, foregroundRenderables) {\r\n\t            this.renderContext = renderContext;\r\n\t            this.fixedRenderables = fixedRenderables;\r\n\t            this.backgroundRenderables = backgroundRenderables;\r\n\t            this.foregroundRenderables = foregroundRenderables;\r\n\t            this.initialBackgroundRenderables = [].concat(backgroundRenderables);\r\n\t            this.initialForegroundRenderables = [].concat(foregroundRenderables);\r\n\t            this.renderOffset = 0;\r\n\t        }\r\n\t        Object.defineProperty(Viewport.prototype, \"renderDimensions\", {\r\n\t            get: function () {\r\n\t                return {\r\n\t                    x: this.renderContext.canvas.width,\r\n\t                    y: this.renderContext.canvas.height\r\n\t                };\r\n\t            },\r\n\t            enumerable: true,\r\n\t            configurable: true\r\n\t        });\r\n\t        Object.defineProperty(Viewport.prototype, \"offset\", {\r\n\t            get: function () {\r\n\t                return this.renderOffset;\r\n\t            },\r\n\t            enumerable: true,\r\n\t            configurable: true\r\n\t        });\r\n\t        Viewport.prototype.SlideUpTo = function (y) {\r\n\t            if (y > this.renderOffset) {\r\n\t                this.renderOffset = y;\r\n\t            }\r\n\t        };\r\n\t        Viewport.prototype.Render = function (fps) {\r\n\t            this.renderContext.save();\r\n\t            this.renderContext.translate(0, this.renderOffset);\r\n\t            this.backgroundRenderables = this.RenderSubSet(this.backgroundRenderables);\r\n\t            this.renderContext.restore();\r\n\t            this.fixedRenderables = this.RenderSubSet(this.fixedRenderables);\r\n\t            this.renderContext.save();\r\n\t            this.renderContext.translate(0, this.renderOffset);\r\n\t            this.foregroundRenderables = this.RenderSubSet(this.foregroundRenderables);\r\n\t            this.renderContext.restore();\r\n\t            if (fps) {\r\n\t                this.renderContext.fillStyle = \"#FFFFFF\";\r\n\t                this.renderContext.fillText(\"FPS: \" + fps.toString(), 0, 10);\r\n\t            }\r\n\t        };\r\n\t        Viewport.prototype.Reset = function () {\r\n\t            this.renderOffset = 0;\r\n\t            this.backgroundRenderables = [].concat(this.initialBackgroundRenderables);\r\n\t            this.foregroundRenderables = [].concat(this.initialForegroundRenderables);\r\n\t        };\r\n\t        Viewport.prototype.RenderSubSet = function (subSet) {\r\n\t            var newRenderables = subSet;\r\n\t            for (var i = 0; i < subSet.length; i++) {\r\n\t                newRenderables = subSet[i].Render(this.renderContext).concat(newRenderables);\r\n\t            }\r\n\t            return newRenderables.filter(function (renderable) {\r\n\t                return renderable.isAlive;\r\n\t            });\r\n\t        };\r\n\t        return Viewport;\r\n\t    })();\r\n\t    exports.Viewport = Viewport;\r\n\t}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\r\n\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(3)], __WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, sprite_1) {\r\n\t    var Menu = (function () {\r\n\t        function Menu(renderDimensions, controller, background, onStartGame, volume) {\r\n\t            this.isAlive = true;\r\n\t            this.renderDimensions = renderDimensions;\r\n\t            this.background = background;\r\n\t            this.isMenuOpen = true;\r\n\t            this.isButtonHovered = false;\r\n\t            this.controller = controller;\r\n\t            this.onStartGame = onStartGame;\r\n\t            this.opacity = 0;\r\n\t            this.playButtonPosition = {\r\n\t                x: (renderDimensions.x - Menu.buttonWidth) / 2,\r\n\t                y: (renderDimensions.y - (Menu.buttonHeight * 2)) + 0.5 // 0.5 for stroke alignment\r\n\t            };\r\n\t            this.buttonHover = volume.createSound(\"snd/button_on.wav\", {});\r\n\t            this.buttonUnhover = volume.createSound(\"snd/button_off.wav\", {});\r\n\t            this.buttonClick = volume.createSound(\"snd/button_click.wav\", {});\r\n\t            this.controlPosition = { x: 45, y: 300 };\r\n\t            this.controlDiagram = new sprite_1.Sprite(\"img/controls.png\", { x: 390, y: 237 });\r\n\t        }\r\n\t        Menu.prototype.Render = function (renderContext) {\r\n\t            var mouseClick = this.controller.getClickPosition();\r\n\t            if ((mouseClick && this.isPointOnButton(mouseClick))\r\n\t                || this.controller.isKeyPressed(\"enter\")\r\n\t                || this.controller.isKeyPressed(\"e\")) {\r\n\t                this.buttonClick.play();\r\n\t                this.onStartGame();\r\n\t            }\r\n\t            var buttonIsNowHovered = this.isPointOnButton(this.controller.getMousePosition());\r\n\t            if (buttonIsNowHovered && !this.isButtonHovered) {\r\n\t                this.buttonHover.play();\r\n\t            }\r\n\t            else if (!buttonIsNowHovered && this.isButtonHovered) {\r\n\t                this.buttonUnhover.play();\r\n\t            }\r\n\t            this.isButtonHovered = buttonIsNowHovered;\r\n\t            this.background.Render(renderContext);\r\n\t            var horizontalCenter = (this.renderDimensions.x / 2);\r\n\t            renderContext.save();\r\n\t            renderContext.font = \"\" + Menu.titleFontSizeInPx + \"px Oswald\";\r\n\t            renderContext.fillStyle = \"rgba(255,255,255,\" + this.opacity + \")\";\r\n\t            renderContext.textAlign = \"center\";\r\n\t            renderContext.fillText(\"Quadrilactic\", horizontalCenter, Menu.titleFontSizeInPx + 50);\r\n\t            if (this.lastPoints) {\r\n\t                renderContext.save();\r\n\t                renderContext.font = \"\" + Menu.scoreFontSizeInPx + \"px Oswald\";\r\n\t                renderContext.fillStyle = this.scoreColor;\r\n\t                renderContext.globalAlpha = this.opacity;\r\n\t                renderContext.textAlign = \"center\";\r\n\t                renderContext.fillText(\"Score: \" + this.lastPoints, horizontalCenter, Menu.titleFontSizeInPx + Menu.scoreFontSizeInPx + 70);\r\n\t                renderContext.restore();\r\n\t            }\r\n\t            if (this.isButtonHovered) {\r\n\t                renderContext.fillRect(this.playButtonPosition.x, this.playButtonPosition.y, Menu.buttonWidth, Menu.buttonHeight);\r\n\t            }\r\n\t            renderContext.strokeStyle = \"rgba(255,255,255,\" + this.opacity + \")\";\r\n\t            renderContext.lineWidth = 3;\r\n\t            renderContext.strokeRect(this.playButtonPosition.x, this.playButtonPosition.y, Menu.buttonWidth, Menu.buttonHeight);\r\n\t            renderContext.font = \"\" + Menu.playFontSizeInPx + \"px Oswald\";\r\n\t            renderContext.fillStyle = (this.isButtonHovered ? \"rgba(0,0,0,\" : \"rgba(255,255,255,\") + this.opacity + \")\";\r\n\t            renderContext.textAlign = \"center\";\r\n\t            renderContext.fillText(\"Play\", horizontalCenter, (Menu.playFontSizeInPx * 1.45) + this.playButtonPosition.y);\r\n\t            // Draw the controls\r\n\t            renderContext.globalAlpha = this.opacity;\r\n\t            renderContext.translate(this.controlPosition.x, this.controlPosition.y);\r\n\t            this.controlDiagram.Render(renderContext);\r\n\t            renderContext.restore();\r\n\t            this.opacity = Math.min(1, this.opacity + Menu.fadeInRate);\r\n\t            return [];\r\n\t        };\r\n\t        Menu.prototype.showMenu = function (totalPoints, scoreColor) {\r\n\t            this.isMenuOpen = true;\r\n\t            this.opacity = 0;\r\n\t            this.lastPoints = totalPoints;\r\n\t            this.scoreColor = scoreColor;\r\n\t        };\r\n\t        Menu.prototype.isPointOnButton = function (point) {\r\n\t            return point\r\n\t                && point.x > this.playButtonPosition.x\r\n\t                && point.x < this.playButtonPosition.x + Menu.buttonWidth\r\n\t                && point.y > this.playButtonPosition.y\r\n\t                && point.y < this.playButtonPosition.y + Menu.buttonHeight;\r\n\t        };\r\n\t        Menu.titleFontSizeInPx = 90;\r\n\t        Menu.scoreFontSizeInPx = 50;\r\n\t        Menu.playFontSizeInPx = 50;\r\n\t        Menu.buttonWidth = 225;\r\n\t        Menu.buttonHeight = 100;\r\n\t        Menu.fadeInRate = 0.02;\r\n\t        return Menu;\r\n\t    })();\r\n\t    exports.Menu = Menu;\r\n\t}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\r\n\n\n/***/ },\n/* 12 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(13), __webpack_require__(3)], __WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, sound_1, sprite_1) {\r\n\t    var Volume = (function () {\r\n\t        function Volume(renderDimensions, controller) {\r\n\t            this.isAlive = true;\r\n\t            this.controller = controller;\r\n\t            this.soundButtonPosition = {\r\n\t                x: renderDimensions.x - 40,\r\n\t                y: 10\r\n\t            };\r\n\t            this.soundButtonDimensions = {\r\n\t                x: 30,\r\n\t                y: 30\r\n\t            };\r\n\t            this.opacity = Volume.fadedOpacity;\r\n\t            this.level = 2;\r\n\t            this.volume0 = new sprite_1.Sprite(\"img/volume0.png\", this.soundButtonDimensions);\r\n\t            this.volume1 = new sprite_1.Sprite(\"img/volume1.png\", this.soundButtonDimensions);\r\n\t            this.volume2 = new sprite_1.Sprite(\"img/volume2.png\", this.soundButtonDimensions);\r\n\t            this.volume3 = new sprite_1.Sprite(\"img/volume3.png\", this.soundButtonDimensions);\r\n\t            this.volume4 = new sprite_1.Sprite(\"img/volume4.png\", this.soundButtonDimensions);\r\n\t            this.isVolumeKeyPressed = false;\r\n\t            this.sounds = [];\r\n\t            this.volumeChanged = this.createSound(\"snd/volume.wav\", {});\r\n\t        }\r\n\t        Volume.prototype.Render = function (renderContext) {\r\n\t            var mouseClick = this.controller.getClickPosition();\r\n\t            if (mouseClick && this.isPointOnButton(mouseClick)) {\r\n\t                this.changeVolume();\r\n\t            }\r\n\t            if (this.isPointOnButton(this.controller.getMousePosition())) {\r\n\t                this.opacity = 1;\r\n\t            }\r\n\t            if (this.controller.isKeyPressed([\"m\", \"v\"])) {\r\n\t                if (!this.isVolumeKeyPressed) {\r\n\t                    this.changeVolume();\r\n\t                    this.isVolumeKeyPressed = true;\r\n\t                }\r\n\t            }\r\n\t            else {\r\n\t                this.isVolumeKeyPressed = false;\r\n\t            }\r\n\t            this.opacity = Math.max(this.opacity - Volume.opacityDecay, Volume.fadedOpacity);\r\n\t            renderContext.save();\r\n\t            renderContext.globalAlpha = this.opacity;\r\n\t            renderContext.translate(this.soundButtonPosition.x, this.soundButtonPosition.y);\r\n\t            switch (this.level) {\r\n\t                case 0:\r\n\t                    this.volume0.Render(renderContext);\r\n\t                    break;\r\n\t                case 1:\r\n\t                    this.volume1.Render(renderContext);\r\n\t                    break;\r\n\t                case 2:\r\n\t                    this.volume2.Render(renderContext);\r\n\t                    break;\r\n\t                case 3:\r\n\t                    this.volume3.Render(renderContext);\r\n\t                    break;\r\n\t                case 4:\r\n\t                    this.volume4.Render(renderContext);\r\n\t                    break;\r\n\t                default:\r\n\t                    this.volume4.Render(renderContext);\r\n\t                    break;\r\n\t            }\r\n\t            renderContext.restore();\r\n\t            return [];\r\n\t        };\r\n\t        Volume.prototype.createSound = function (path, options) {\r\n\t            var newSound = new sound_1.Sound(path, options);\r\n\t            newSound.volume = this.level / 5;\r\n\t            this.sounds.push(newSound);\r\n\t            return newSound;\r\n\t        };\r\n\t        Volume.prototype.isPointOnButton = function (point) {\r\n\t            return point\r\n\t                && point.x > this.soundButtonPosition.x\r\n\t                && point.x < this.soundButtonPosition.x + this.soundButtonDimensions.x\r\n\t                && point.y > this.soundButtonPosition.y\r\n\t                && point.y < this.soundButtonPosition.y + this.soundButtonDimensions.y;\r\n\t        };\r\n\t        Volume.prototype.changeVolume = function () {\r\n\t            var _this = this;\r\n\t            this.opacity = 1;\r\n\t            this.level = Math.round(this.level >= 4 ? 0 : this.level + 1);\r\n\t            this.sounds.forEach(function (sound) {\r\n\t                sound.volume = _this.level / 5;\r\n\t            });\r\n\t            this.volumeChanged.play();\r\n\t        };\r\n\t        Volume.opacityDecay = 0.02;\r\n\t        Volume.fadedOpacity = 0.4;\r\n\t        return Volume;\r\n\t    })();\r\n\t    exports.Volume = Volume;\r\n\t}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\r\n\n\n/***/ },\n/* 13 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports], __WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports) {\r\n\t    var Sound = (function () {\r\n\t        function Sound(path, options) {\r\n\t            this.sound = new Audio(path);\r\n\t            this.sound.volume = options.volume || Sound.defaultVolume;\r\n\t            this.sound.loop = options.isLooping === true;\r\n\t        }\r\n\t        Sound.prototype.play = function () {\r\n\t            this.sound.play();\r\n\t        };\r\n\t        Object.defineProperty(Sound.prototype, \"volume\", {\r\n\t            set: function (newVolume) {\r\n\t                this.sound.volume = newVolume;\r\n\t            },\r\n\t            enumerable: true,\r\n\t            configurable: true\r\n\t        });\r\n\t        Sound.defaultVolume = 0.3;\r\n\t        return Sound;\r\n\t    })();\r\n\t    exports.Sound = Sound;\r\n\t}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\r\n\n\n/***/ },\n/* 14 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __extends = (this && this.__extends) || function (d, b) {\r\n\t    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\r\n\t    function __() { this.constructor = d; }\r\n\t    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n\t};\r\n\t!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(5)], __WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, physicsBlock_1) {\r\n\t    var Platform = (function (_super) {\r\n\t        __extends(Platform, _super);\r\n\t        function Platform(worldPosition, dimensions, color, gravity, volume, worldWidth) {\r\n\t            _super.call(this, worldPosition, dimensions, color, gravity, volume, 10, worldWidth);\r\n\t        }\r\n\t        Object.defineProperty(Platform.prototype, \"bottomOfScreen\", {\r\n\t            get: function () {\r\n\t                return this.viewport.renderDimensions.y - this.viewport.offset;\r\n\t            },\r\n\t            enumerable: true,\r\n\t            configurable: true\r\n\t        });\r\n\t        Object.defineProperty(Platform.prototype, \"offscreenAmount\", {\r\n\t            get: function () {\r\n\t                return Math.max(this.top - this.bottomOfScreen, 0);\r\n\t            },\r\n\t            enumerable: true,\r\n\t            configurable: true\r\n\t        });\r\n\t        Platform.prototype.Tick = function (deltaTime) {\r\n\t            this.xSpeed = this.xSpeed * ((Platform.platformSpeedIncrease + deltaTime) / Platform.platformSpeedIncrease);\r\n\t            _super.prototype.Tick.call(this, deltaTime);\r\n\t        };\r\n\t        Platform.prototype.Render = function (renderContext) {\r\n\t            if (this.offscreenAmount <= 0) {\r\n\t                return _super.prototype.Render.call(this, renderContext);\r\n\t            }\r\n\t            else {\r\n\t                renderContext.save();\r\n\t                renderContext.fillStyle = this.fillColor;\r\n\t                renderContext.globalAlpha = 0.2;\r\n\t                renderContext.fillRect(this.left, this.bottomOfScreen - this.height, this.width, this.height);\r\n\t                renderContext.globalAlpha = 1;\r\n\t                renderContext.fillRect(this.left, this.bottomOfScreen - this.height, ((this.offscreenAmount / 10) % this.width), this.height);\r\n\t                renderContext.restore();\r\n\t                return [];\r\n\t            }\r\n\t        };\r\n\t        Platform.platformSpeedIncrease = 1000;\r\n\t        return Platform;\r\n\t    })(physicsBlock_1.PhysicsBlock);\r\n\t    exports.Platform = Platform;\r\n\t}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\r\n\n\n/***/ },\n/* 15 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports], __WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports) {\r\n\t    var Controller = (function () {\r\n\t        function Controller(canvas) {\r\n\t            var _this = this;\r\n\t            this.isKeyPressedState = {\r\n\t                \"enter\": false,\r\n\t                \"space\": false,\r\n\t                \"left\": false,\r\n\t                \"up\": false,\r\n\t                \"right\": false,\r\n\t                \"a\": false,\r\n\t                \"d\": false,\r\n\t                \"e\": false,\r\n\t                \"m\": false,\r\n\t                \"v\": false,\r\n\t                \"w\": false\r\n\t            };\r\n\t            this.canvas = canvas;\r\n\t            window.addEventListener(\"keyup\", function (event) {\r\n\t                _this.handleKeyUp(event);\r\n\t            });\r\n\t            window.addEventListener(\"keydown\", function (event) {\r\n\t                _this.handleKeyDown(event);\r\n\t                // Prevent known key codes executing their default action.\r\n\t                if (Controller.keyCodes[event.keyCode]) {\r\n\t                    event.preventDefault();\r\n\t                }\r\n\t            });\r\n\t            canvas.addEventListener(\"mousemove\", function (event) {\r\n\t                _this.handleMouseMove(event);\r\n\t            });\r\n\t            canvas.addEventListener(\"mousedown\", function (event) {\r\n\t                _this.handleMouseDown(event);\r\n\t            });\r\n\t        }\r\n\t        Controller.prototype.isKeyPressed = function (key) {\r\n\t            var _this = this;\r\n\t            var keys = [].concat(key);\r\n\t            return keys.some(function (value) {\r\n\t                return _this.isKeyPressedState[value];\r\n\t            });\r\n\t        };\r\n\t        Controller.prototype.getMousePosition = function () {\r\n\t            return this.mousePosition;\r\n\t        };\r\n\t        Controller.prototype.getClickPosition = function () {\r\n\t            return this.clickLocation;\r\n\t        };\r\n\t        Controller.prototype.clearClick = function () {\r\n\t            this.clickLocation = undefined;\r\n\t        };\r\n\t        Controller.prototype.handleKeyUp = function (event) {\r\n\t            var key = Controller.keyCodes[event.keyCode];\r\n\t            this.isKeyPressedState[key] = false;\r\n\t        };\r\n\t        Controller.prototype.handleKeyDown = function (event) {\r\n\t            var key = Controller.keyCodes[event.keyCode];\r\n\t            this.isKeyPressedState[key] = true;\r\n\t        };\r\n\t        Controller.prototype.handleMouseMove = function (event) {\r\n\t            var canvasElementPosition = this.canvas.getBoundingClientRect();\r\n\t            this.mousePosition = {\r\n\t                x: event.clientX - canvasElementPosition.left,\r\n\t                y: event.clientY - canvasElementPosition.top,\r\n\t            };\r\n\t        };\r\n\t        Controller.prototype.handleMouseDown = function (event) {\r\n\t            var canvasElementPosition = this.canvas.getBoundingClientRect();\r\n\t            this.clickLocation = {\r\n\t                x: event.clientX - canvasElementPosition.left,\r\n\t                y: event.clientY - canvasElementPosition.top,\r\n\t            };\r\n\t            event.preventDefault();\r\n\t        };\r\n\t        Controller.keyCodes = {\r\n\t            13: \"enter\",\r\n\t            32: \"space\",\r\n\t            37: \"left\",\r\n\t            38: \"up\",\r\n\t            39: \"right\",\r\n\t            65: \"a\",\r\n\t            68: \"d\",\r\n\t            69: \"e\",\r\n\t            77: \"m\",\r\n\t            86: \"v\",\r\n\t            87: \"w\"\r\n\t        };\r\n\t        return Controller;\r\n\t    })();\r\n\t    exports.Controller = Controller;\r\n\t}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\r\n\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** bundle.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"dist/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 7b016798911401077784\n **/","import {Renderer} from \"renderer\";\r\nimport {Controller} from \"controller\";\r\n\r\nlet canvas: HTMLCanvasElement = document.getElementById(\"viewport\") as HTMLCanvasElement;\r\n\r\nlet controller: Controller = new Controller(canvas);\r\n\r\nnew Renderer(canvas, controller).Start();\r\n\r\n// Ensure keyboard events when loaded in an iframe (fix for itch.io)\r\nwindow.onload = function(): void {\r\n\twindow.focus();\r\n};\r\nwindow.onclick = function(): void {\r\n\twindow.focus();\r\n};\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/main.ts\n **/","import {Player} from \"player\";\r\nimport {Controller} from \"controller\";\r\nimport {MovingPoint, Point} from \"point\";\r\nimport {Collider} from \"collider\";\r\nimport {Scoreboard} from \"scoreboard\";\r\nimport {Background} from \"background\";\r\nimport {Viewport} from \"viewport\";\r\nimport {Sound} from \"sound\";\r\nimport {Menu} from \"menu\";\r\nimport {Volume} from \"volume\";\r\nimport {Platform} from \"platform\";\r\n\r\nexport class Renderer {\r\n\t// Constants\r\n\tprivate static defaultGravity: number = 0.2;\r\n\tprivate static gameWidth: number = 480;\r\n\tprivate static minimumPlatformReboundSpeed: number = 10;\r\n\tprivate static timescale: number = 16;\r\n\r\n\t// Rendering references\r\n\tprivate canvas: HTMLCanvasElement;\r\n\tprivate context: CanvasRenderingContext2D;\r\n\r\n\t// State\r\n\tprivate isRunning: boolean = false;\r\n\tprivate player: Player;\r\n\tprivate platform: Platform;\r\n\tprivate scoreboard: Scoreboard;\r\n\tprivate background: Background;\r\n\tprivate menu: Menu;\r\n\tprivate viewport: Viewport;\r\n\tprivate lastTimestamp: number;\r\n\tprivate lastFps: number;\r\n\tprivate backgroundMusic: Sound;\r\n\tprivate deathSound: Sound;\r\n\tprivate volume: Volume;\r\n\tprivate controller: Controller;\r\n\r\n\tconstructor(canvas: HTMLCanvasElement, controller: Controller) {\r\n\t\tthis.canvas = canvas;\r\n\t\tthis.context = canvas.getContext(\"2d\");\r\n\t\tthis.controller = controller;\r\n\r\n\t\tthis.volume = new Volume(\r\n\t\t\t{\r\n\t\t\t\tx: this.canvas.width,\r\n\t\t\t\ty: this.canvas.height\r\n\t\t\t},\r\n\t\t\tcontroller);\r\n\r\n\t\tthis.backgroundMusic = this.volume.createSound(\"snd/music.wav\", { isLooping: true });\r\n\t\tthis.backgroundMusic.play();\r\n\r\n\t\tthis.deathSound = this.volume.createSound(\"snd/death.wav\", {});\r\n\r\n\t\tlet playerPosition: MovingPoint = {\r\n\t\t\tdX: 2,\r\n\t\t\tdY: -2,\r\n\t\t\tx: 30,\r\n\t\t\ty: 110\r\n\t\t};\r\n\t\tlet playerDimensions: Point = {\r\n\t\t\tx: 30,\r\n\t\t\ty: 30\r\n\t\t};\r\n\t\tthis.player = new Player(\r\n\t\t\tplayerPosition,\r\n\t\t\tplayerDimensions,\r\n\t\t\t\"#FF0000\",\r\n\t\t\tcontroller,\r\n\t\t\tRenderer.defaultGravity,\r\n\t\t\tRenderer.gameWidth,\r\n\t\t\tthis.volume);\r\n\r\n\t\tthis.background = new Background(\r\n\t\t\t{ x: 0, y: 0 },\r\n\t\t\t{ x: this.canvas.width, y: this.canvas.height },\r\n\t\t\t\"#222222\",\r\n\t\t\tthis.player\r\n\t\t);\r\n\r\n\t\tlet platformPosition: MovingPoint = {\r\n\t\t\tdX: 2,\r\n\t\t\tdY: 2,\r\n\t\t\tx: 30,\r\n\t\t\ty: 690\r\n\t\t};\r\n\t\tlet platformDimensions: Point = {\r\n\t\t\tx: 90,\r\n\t\t\ty: 20\r\n\t\t};\r\n\t\tthis.platform = new Platform(\r\n\t\t\tplatformPosition,\r\n\t\t\tplatformDimensions,\r\n\t\t\t\"#FFFFFF\",\r\n\t\t\t-Renderer.defaultGravity,\r\n\t\t\tthis.volume,\r\n\t\t\tRenderer.gameWidth);\r\n\t\tthis.platform.onBounce = () => {\r\n\t\t\tif (this.platform.ySpeed < Renderer.minimumPlatformReboundSpeed) {\r\n\t\t\t\tthis.platform.ySpeed = Renderer.minimumPlatformReboundSpeed;\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tlet scoreboardPosition: MovingPoint = {\r\n\t\t\tdX: 0,\r\n\t\t\tdY: 0,\r\n\t\t\tx: 20,\r\n\t\t\ty: 370\r\n\t\t};\r\n\t\tlet scoreboardDimensions: Point = {\r\n\t\t\tx: 0,\r\n\t\t\ty: 0\r\n\t\t};\r\n\t\tthis.scoreboard = new Scoreboard(\r\n\t\t\tthis.player,\r\n\t\t\tscoreboardPosition,\r\n\t\t\tscoreboardDimensions,\r\n\t\t\t\"rgba(255,255,255, 0.1)\"\r\n\t\t);\r\n\r\n\t\tthis.menu = new Menu(\r\n\t\t\t{\r\n\t\t\t\tx: this.canvas.width,\r\n\t\t\t\ty: this.canvas.height\r\n\t\t\t},\r\n\t\t\tcontroller,\r\n\t\t\tthis.background,\r\n\t\t\t() => {\r\n\t\t\t\tthis.player.Reset();\r\n\t\t\t\tthis.platform.Reset();\r\n\t\t\t\tthis.viewport.Reset();\r\n\t\t\t\tthis.scoreboard.Reset();\r\n\t\t\t\tthis.background.Reset();\r\n\t\t\t\tthis.isRunning = true;\r\n\t\t\t},\r\n\t\t\tthis.volume\r\n\t\t);\r\n\r\n\t\tthis.viewport = new Viewport(\r\n\t\t\tthis.context,\r\n\t\t\t[this.background, this.scoreboard],\r\n\t\t\t[],\r\n\t\t\t[this.player, this.platform]\r\n\t\t);\r\n\r\n\t\tthis.platform.viewport = this.viewport;\r\n\r\n\t\tlet originalOnMove: (amountMoved: Point) => void = this.player.onMove;\r\n\t\tthis.player.onMove = (amountMoved: Point) => {\r\n\t\t\tthis.viewport.SlideUpTo(-this.player.yPosition + 50);\r\n\t\t\tthis.background.SlideUpTo(-this.player.yPosition);\r\n\r\n\t\t\tif (this.player.yPosition > -(this.viewport.offset - this.canvas.height)) {\r\n\t\t\t\tthis.isRunning = false;\r\n\t\t\t\tthis.deathSound.play();\r\n\t\t\t\tthis.menu.showMenu(this.scoreboard.totalPoints, this.player.fillColor);\r\n\t\t\t}\r\n\r\n\t\t\tif (originalOnMove) {\r\n\t\t\t\toriginalOnMove(amountMoved);\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n\tpublic Start(): void {\r\n\t\trequestAnimationFrame((time: number) => { this.Tick(time); });\r\n\t}\r\n\r\n\tprivate Tick(timestamp: number): void {\r\n\t\tlet deltaTime: number = this.lastTimestamp ? (timestamp - this.lastTimestamp) : 0;\r\n\t\tlet scaledTime: number = deltaTime / Renderer.timescale;\r\n\t\tthis.lastTimestamp = timestamp;\r\n\t\tthis.lastFps = Math.round(1000 / deltaTime);\r\n\r\n\t\tthis.Draw();\r\n\r\n\t\tif (this.isRunning === true) {\r\n\t\t\tthis.player.Tick(scaledTime);\r\n\t\t\tthis.platform.Tick(scaledTime);\r\n\t\t\tCollider.processCollisions([this.player, this.platform]);\r\n\t\t}\r\n\r\n\t\tthis.controller.clearClick();\r\n\r\n\t\trequestAnimationFrame((time: number) => { this.Tick(time); });\r\n\t}\r\n\r\n\tprivate Draw(): void {\r\n\t\tif (this.isRunning) {\r\n\t\t\tthis.viewport.Render(this.lastFps);\r\n\t\t} else {\r\n\t\t\tthis.menu.Render(this.context);\r\n\t\t}\r\n\r\n\t\tthis.volume.Render(this.context);\r\n\t}\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/renderer.ts\n **/","import {Point} from \"point\";\r\nimport {Renderable} from \"renderable\";\r\nimport {Player} from \"player\";\r\nimport {Sprite} from \"sprite\";\r\n\r\nexport class Background implements Renderable {\r\n\tpublic isAlive: boolean = true;\r\n\tpublic showArrow: boolean = false;\r\n\r\n\tprivate renderPosition: Point;\r\n\tprivate renderDimensions: Point;\r\n\tprivate color: string;\r\n\tprivate offset: number = 0;\r\n\tprivate staticBackground: Sprite;\r\n\tprivate stars1: Sprite;\r\n\tprivate stars2: Sprite;\r\n\tprivate upArrow: Sprite;\r\n\r\n\tpublic constructor(\r\n\t\trenderPosition: Point,\r\n\t\trenderDimensions: Point,\r\n\t\tcolor: string,\r\n\t\tplayer: Player\r\n\t) {\r\n\t\tthis.renderPosition = renderPosition;\r\n\t\tthis.renderDimensions = renderDimensions;\r\n\t\tthis.color = color;\r\n\r\n\t\tthis.staticBackground = new Sprite(\"img/staticBackground.png\", renderDimensions);\r\n\t\tthis.stars1 = new Sprite(\"img/stars1.png\", { x: renderDimensions.x, y: renderDimensions.y * 2 });\r\n\t\tthis.stars2 = new Sprite(\"img/stars2.png\", { x: renderDimensions.x, y: renderDimensions.y * 2 });\r\n\t\tthis.upArrow = new Sprite(\"img/upArrow.png\", { x: 120, y: 99 });\r\n\t}\r\n\r\n\tpublic SlideUpTo(y: number): void {\r\n\t\tif (y > this.offset) {\r\n\t\t\tthis.offset = y;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic Render(renderContext: CanvasRenderingContext2D): Renderable[] {\r\n\r\n\t\tlet result: Renderable[] = [];\r\n\r\n\t\tresult = result.concat(this.staticBackground.Render(renderContext));\r\n\r\n\t\tlet lowerYPosition1: number = this.offset % (this.renderDimensions.y * 2);\r\n\t\tlet upperYPosition1: number = lowerYPosition1 - (this.renderDimensions.y * 2);\r\n\r\n\t\trenderContext.save();\r\n\t\trenderContext.translate(0, lowerYPosition1);\r\n\t\tresult = result.concat(this.stars1.Render(renderContext));\r\n\t\trenderContext.restore();\r\n\r\n\t\trenderContext.save();\r\n\t\trenderContext.translate(0, upperYPosition1);\r\n\t\tresult = result.concat(this.stars1.Render(renderContext));\r\n\t\trenderContext.restore();\r\n\r\n\t\tlet lowerYPosition2: number = (this.offset / 2) % (this.renderDimensions.y * 2);\r\n\t\tlet upperYPosition2: number = lowerYPosition2 - (this.renderDimensions.y * 2);\r\n\r\n\t\trenderContext.save();\r\n\t\trenderContext.translate(0, lowerYPosition2);\r\n\t\tresult = result.concat(this.stars2.Render(renderContext));\r\n\t\trenderContext.restore();\r\n\r\n\t\trenderContext.save();\r\n\t\trenderContext.translate(0, upperYPosition2);\r\n\t\tresult = result.concat(this.stars2.Render(renderContext));\r\n\t\trenderContext.restore();\r\n\r\n\t\tif (this.showArrow && this.offset < (this.renderDimensions.y * 2)) {\r\n\t\t\trenderContext.save();\r\n\r\n\t\t\trenderContext.globalAlpha = 0.5;\r\n\t\t\trenderContext.translate(300, this.offset + 40);\r\n\t\t\tthis.upArrow.Render(renderContext);\r\n\r\n\t\t\trenderContext.restore();\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\t}\r\n\r\n\tpublic Reset(): void {\r\n\t\tthis.showArrow = true;\r\n\t\tthis.offset = 0;\r\n\t}\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/background.ts\n **/","import {Renderable} from \"renderable\";\r\nimport {Point} from \"point\";\r\n\r\nexport class Sprite implements Renderable {\r\n\tpublic isAlive: boolean = true;\r\n\tprivate image: HTMLImageElement;\r\n\tprivate internalDimensions: Point;\r\n\r\n\tconstructor(imagePath: string, dimensions: Point) {\r\n\t\tthis.image = new Image();\r\n\t\tthis.image.addEventListener(\"load\", () => { this.loaded(); }, false);\r\n\t\tthis.image.src = imagePath;\r\n\r\n\t\tthis.dimensions = dimensions;\r\n\t}\r\n\r\n\tpublic set dimensions(dimensions: Point) {\r\n\t\tthis.internalDimensions = dimensions;\r\n\t}\r\n\r\n\tpublic Render(renderContext: CanvasRenderingContext2D): Renderable[] {\r\n\t\trenderContext.drawImage(\r\n\t\t\tthis.image,\r\n\t\t\t// Source dimensions\r\n\t\t\t0,\r\n\t\t\t0,\r\n\t\t\tthis.image.width,\r\n\t\t\tthis.image.height,\r\n\t\t\t// Destination dimensions\r\n\t\t\t0,\r\n\t\t\t0,\r\n\t\t\tthis.internalDimensions.x,\r\n\t\t\tthis.internalDimensions.y);\r\n\r\n\t\treturn [];\r\n\t}\r\n\r\n\tprivate loaded(): void {\r\n\t\tconsole.log(\"Loaded: \" + this.image.src);\r\n\t}\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/sprite.ts\n **/","import {Controller} from \"controller\";\r\nimport {PhysicsBlock} from \"physicsBlock\";\r\nimport {MovingPoint, Point, Rectangle} from \"point\";\r\nimport {Renderable} from \"renderable\";\r\nimport {Sprite} from \"sprite\";\r\nimport {Sound} from \"sound\";\r\nimport {Volume} from \"volume\";\r\nimport {Particle} from \"particle\";\r\n\r\nexport class Player extends PhysicsBlock {\r\n\tprivate static jumpSpeedIncrease: number = -8;\r\n\tprivate static degrees: number = Math.PI / 180;\r\n\tprivate static jumpRotationSlowDown: number = 0.1;\r\n\tprivate static initialJumpRotationSpeed: number = 15;\r\n\tprivate static horizontalSpeedIncrease: number = 0.5;\r\n\tprivate static faceSwapThreshold: number = 3.5;\r\n\r\n\tprivate isJumping: boolean;\r\n\tprivate jumpRotationAmount: number;\r\n\tprivate jumpRotationSpeed: number;\r\n\tprivate controller: Controller;\r\n\r\n\tprivate jump: Sound;\r\n\tprivate bounce: Sound;\r\n\tprivate faceUp: Sprite;\r\n\tprivate faceDown: Sprite;\r\n\tprivate faceHover: Sprite;\r\n\r\n\tpublic constructor(\r\n\t\tworldPosition: MovingPoint,\r\n\t\tdimensions: Point,\r\n\t\tcolor: string,\r\n\t\tcontroller: Controller,\r\n\t\tgravity: number,\r\n\t\tworldWidth: number,\r\n\t\tvolume: Volume\r\n\t) {\r\n\t\tsuper(worldPosition, dimensions, color, gravity, volume, 7, worldWidth);\r\n\r\n\t\tthis.onBounce = this.Bounce;\r\n\r\n\t\tthis.controller = controller;\r\n\t\tthis.isJumping = false;\r\n\t\tthis.jumpRotationAmount = 0;\r\n\r\n\t\tthis.faceUp = new Sprite(\"img/faceHappy.png\", dimensions);\r\n\t\tthis.faceDown = new Sprite(\"img/faceWorried.png\", dimensions);\r\n\t\tthis.faceHover = new Sprite(\"img/faceChill.png\", dimensions);\r\n\r\n\t\tthis.jump = volume.createSound(\"snd/jump.wav\", {});\r\n\t\tthis.bounce = volume.createSound(\"snd/blip3.wav\", {});\r\n\t}\r\n\r\n\tpublic Tick(deltaTime: number): void {\r\n\t\tsuper.Tick(deltaTime);\r\n\r\n\t\t// Perform the jump\r\n\t\tif (!this.isJumping && this.controller.isKeyPressed([\"up\", \"space\", \"w\"])) {\r\n\t\t\tthis.jump.play();\r\n\t\t\tthis.ySpeed = Player.jumpSpeedIncrease * deltaTime;\r\n\t\t\tthis.isJumping = true;\r\n\t\t\tthis.jumpRotationSpeed = this.direction === \"right\" ? Player.initialJumpRotationSpeed : -Player.initialJumpRotationSpeed;\r\n\t\t}\r\n\r\n\t\t// Allow influence over horizontal direction\r\n\t\tif (this.controller.isKeyPressed([\"left\", \"a\"])) {\r\n\t\t\tthis.xSpeed -= (Player.horizontalSpeedIncrease * deltaTime);\r\n\t\t}\r\n\t\tif (this.controller.isKeyPressed([\"right\", \"d\"])) {\r\n\t\t\tthis.xSpeed += (Player.horizontalSpeedIncrease * deltaTime);\r\n\t\t}\r\n\r\n\t\t// Apply jump rotation\r\n\t\tthis.jumpRotationAmount += (this.jumpRotationSpeed * deltaTime);\r\n\t\tif (this.jumpRotationSpeed > 0) {\r\n\t\t\tthis.jumpRotationSpeed = Math.max(0, this.jumpRotationSpeed - Player.jumpRotationSlowDown);\r\n\t\t} else if (this.jumpRotationSpeed < 0) {\r\n\t\t\tthis.jumpRotationSpeed = Math.min(0, this.jumpRotationSpeed + Player.jumpRotationSlowDown);\r\n\t\t}\r\n\r\n\t\tthis.jumpRotationAmount += this.xSpeed / 2;\r\n\t}\r\n\r\n\tpublic Bounce(): void {\r\n\t\t// If we were jumping, thats over now\r\n\t\tthis.isJumping = false;\r\n\t\tthis.jumpRotationAmount = 0;\r\n\t\tthis.jumpRotationSpeed = 0;\r\n\t\tthis.bounce.play();\r\n\t}\r\n\r\n\tpublic Render(renderContext: CanvasRenderingContext2D): Renderable[] {\r\n\t\trenderContext.save();\r\n\r\n\t\trenderContext.translate(this.centerXPosition, this.centerYPosition);\r\n\t\trenderContext.rotate(this.jumpRotationAmount * Player.degrees);\r\n\t\trenderContext.translate(-this.centerXPosition, -this.centerYPosition);\r\n\r\n\t\tlet faceSprite: Sprite;\r\n\r\n\t\tif (this.ySpeed > Player.faceSwapThreshold) {\r\n\t\t\tfaceSprite = this.faceDown;\r\n\t\t} else if (this.ySpeed < -Player.faceSwapThreshold) {\r\n\t\t\tfaceSprite = this.faceUp;\r\n\t\t} else {\r\n\t\t\tfaceSprite = this.faceHover;\r\n\t\t}\r\n\r\n\t\tlet xHexidecimal: string = Math.max(Math.round(15 - Math.abs(this.xSpeed)), 0).toString(16);\r\n\t\tlet yHexidecimal: string = Math.max(Math.round(15 - Math.abs(this.ySpeed)), 0).toString(16);\r\n\r\n\t\tthis.fillColor = \"#\" + yHexidecimal + yHexidecimal + \"ff\" + xHexidecimal + xHexidecimal;\r\n\r\n\t\tlet newRenderables: Renderable[] = super.Render(renderContext);\r\n\r\n\t\tnewRenderables.forEach((renderable: Renderable) => {\r\n\t\t\t(renderable as Particle).rotation = this.jumpRotationAmount;\r\n\t\t});\r\n\r\n\t\trenderContext.restore();\r\n\r\n\t\trenderContext.save();\r\n\t\trenderContext.translate(this.centerXPosition, this.centerYPosition);\r\n\t\trenderContext.rotate(this.jumpRotationAmount * Player.degrees);\r\n\t\trenderContext.translate(-this.centerXPosition, -this.centerYPosition);\r\n\r\n\t\tlet skewedPosition: Rectangle = this.skewedPosition;\r\n\r\n\t\trenderContext.translate(skewedPosition.x, skewedPosition.y);\r\n\r\n\t\tfaceSprite.dimensions = {\r\n\t\t\tx: skewedPosition.width,\r\n\t\t\ty: skewedPosition.height\r\n\t\t};\r\n\r\n\t\tnewRenderables = newRenderables.concat(faceSprite.Render(renderContext));\r\n\r\n\t\trenderContext.restore();\r\n\r\n\t\treturn newRenderables;\r\n\t}\r\n\r\n\tpublic Reset(): void {\r\n\t\tsuper.Reset();\r\n\r\n\t\tthis.isJumping = false;\r\n\t\tthis.jumpRotationAmount = 0;\r\n\t\tthis.jumpRotationSpeed = 0;\r\n\t}\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/player.ts\n **/","import {Block} from \"block\";\r\nimport {MovingPoint, Point} from \"point\";\r\nimport {Renderable} from \"renderable\";\r\nimport {Sound} from \"sound\";\r\nimport {Volume} from \"volume\";\r\n\r\nexport class PhysicsBlock extends Block {\r\n\r\n\tprivate internalGravity: number;\r\n\tprivate onBounceCallback: () => void;\r\n\tprivate worldWidth: number;\r\n\r\n\tprivate rebound: Sound;\r\n\r\n\tpublic get gravity(): number {\r\n\t\treturn this.internalGravity;\r\n\t}\r\n\tpublic set gravity(newValue: number) {\r\n\t\tthis.internalGravity = newValue;\r\n\t}\r\n\r\n\tget onBounce(): () => void {\r\n\t\treturn this.onBounceCallback;\r\n\t}\r\n\tset onBounce(newValue: () => void) {\r\n\t\tthis.onBounceCallback = newValue;\r\n\t}\r\n\r\n\tpublic constructor(\r\n\t\tworldPosition: MovingPoint,\r\n\t\tdimensions: Point,\r\n\t\tcolor: string,\r\n\t\tgravity: number,\r\n\t\tvolume: Volume,\r\n\t\txSpeedLimit: number,\r\n\t\tworldWidth?: number\r\n\t) {\r\n\t\tsuper(worldPosition, dimensions, color, xSpeedLimit);\r\n\r\n\t\tthis.internalGravity = gravity;\r\n\t\tthis.worldWidth = worldWidth;\r\n\r\n\t\tthis.rebound = volume.createSound(\"snd/blip.wav\", {});\r\n\t}\r\n\r\n\tpublic Tick(deltaTime: number): void {\r\n\t\tsuper.Tick(deltaTime);\r\n\r\n\t\t// If off the right, bounce left\r\n\t\tif (this.right > this.worldWidth) {\r\n\t\t\tthis.rebound.play();\r\n\r\n\t\t\t// Clamp on screen, invert horizontal speed\r\n\t\t\tthis.skew += 3;\r\n\t\t\tthis.xPosition = this.worldWidth - this.width;\r\n\t\t\tthis.xSpeed = -Math.abs(this.xSpeed);\r\n\t\t}\r\n\r\n\t\t// If off the left, bounce right\r\n\t\tif (this.left < 0) {\r\n\t\t\tthis.rebound.play();\r\n\r\n\t\t\t// Clamp on screen, invert horizontal speed\r\n\t\t\tthis.xPosition = 0;\r\n\t\t\tthis.skew += 3;\r\n\t\t\tthis.xSpeed = Math.abs(this.xSpeed);\r\n\t\t}\r\n\r\n\t\t// Apply acceleration due to gravity\r\n\t\tthis.ySpeed += (this.internalGravity * deltaTime);\r\n\t}\r\n\r\n\tpublic Render(renderContext: CanvasRenderingContext2D): Renderable[] {\r\n\t\treturn super.Render(renderContext);\r\n\t}\r\n\r\n\tpublic VerticalBounce(newYSpeed: number): void {\r\n\t\tthis.ySpeed = newYSpeed;\r\n\r\n\t\tthis.skew += 10;\r\n\r\n\t\t// Allow insertion of bouncing code\r\n\t\tif (this.onBounceCallback) {\r\n\t\t\tthis.onBounceCallback();\r\n\t\t}\r\n\t}\r\n\r\n\tpublic Reset(): void {\r\n\t\tsuper.Reset();\r\n\t}\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/physicsBlock.ts\n **/","import {MovingPoint, Point, Rectangle} from \"point\";\r\nimport {Renderable} from \"renderable\";\r\nimport {Particle} from \"particle\";\r\n\r\nexport class Block implements Renderable {\r\n\t// Constants\r\n\tprivate static verticalSpeedLimit: number = 10;\r\n\tprivate static verticalSpeedLimitDelta: number = 0.01;\r\n\tprivate static skewScale: number = 0.07;\r\n\tprivate static skewReduction: number= 0.3;\r\n\r\n\tpublic isAlive: boolean = true;\r\n\r\n\tprotected skew: number;\r\n\r\n\t// Private members\r\n\tprivate worldPosition: MovingPoint;\r\n\tprivate dimensions: Point;\r\n\tprivate internalColor: string;\r\n\tprivate onMoveCallback: (amountMoved: Point) => void;\r\n\tprivate initialWorldPosition: MovingPoint;\r\n\tprivate verticalSpeedLimit: number;\r\n\tprivate horizontalSpeedLimit: number;\r\n\r\n\t// Position properties\r\n\tget xPosition(): number {\r\n\t\treturn this.worldPosition.x;\r\n\t}\r\n\tset xPosition(newValue: number) {\r\n\t\tthis.worldPosition.x = newValue;\r\n\t}\r\n\tget yPosition(): number {\r\n\t\treturn this.worldPosition.y;\r\n\t}\r\n\tset yPosition(newValue: number) {\r\n\t\tthis.worldPosition.y = newValue;\r\n\t}\r\n\r\n\tget xSpeed(): number {\r\n\t\treturn this.worldPosition.dX;\r\n\t}\r\n\tset xSpeed(newValue: number) {\r\n\t\tthis.worldPosition.dX = newValue;\r\n\t}\r\n\tget ySpeed(): number {\r\n\t\treturn this.worldPosition.dY;\r\n\t}\r\n\tset ySpeed(newValue: number) {\r\n\t\tthis.worldPosition.dY = newValue;\r\n\t}\r\n\r\n\tget width(): number {\r\n\t\treturn this.dimensions.x;\r\n\t}\r\n\tget height(): number {\r\n\t\treturn this.dimensions.y;\r\n\t}\r\n\r\n\tget fillColor(): string {\r\n\t\treturn this.internalColor;\r\n\t}\r\n\tset fillColor(newValue: string) {\r\n\t\tthis.internalColor = newValue;\r\n\t}\r\n\r\n\tget left(): number {\r\n\t\treturn this.worldPosition.x;\r\n\t}\r\n\tget right(): number {\r\n\t\treturn this.worldPosition.x + this.dimensions.x;\r\n\t}\r\n\tget top(): number {\r\n\t\treturn this.worldPosition.y;\r\n\t}\r\n\tget bottom(): number {\r\n\t\treturn this.worldPosition.y + this.dimensions.y;\r\n\t}\r\n\tget centerXPosition(): number {\r\n\t\treturn this.left + (this.width / 2);\r\n\t}\r\n\tget centerYPosition(): number {\r\n\t\treturn this.top + (this.height / 2);\r\n\t}\r\n\r\n\tget onMove(): (amountMoved: Point) => void {\r\n\t\treturn this.onMoveCallback;\r\n\t}\r\n\tset onMove(newValue: (amountMoved: Point) => void) {\r\n\t\tthis.onMoveCallback = newValue;\r\n\t}\r\n\r\n\tget skewedPosition(): Rectangle\r\n\t{\r\n\t\tlet skewAdjustment: number = this.skew === 0 ? 0 : Math.sin(this.skew);\r\n\t\tskewAdjustment = skewAdjustment * this.skew;\r\n\r\n\t\tlet widthAdjustment: number = (skewAdjustment * this.width * Block.skewScale);\r\n\t\tlet heightAdjustment: number = (skewAdjustment * this.height * Block.skewScale);\r\n\r\n\t\treturn {\r\n\t\t\theight: this.height + heightAdjustment,\r\n\t\t\twidth: this.width - widthAdjustment,\r\n\t\t\tx: this.xPosition + (widthAdjustment / 2),\r\n\t\t\ty: this.yPosition - (heightAdjustment / 2)\r\n\t\t};\r\n\t}\r\n\r\n\t// Direction properties\r\n\tget direction(): string {\r\n\t\treturn this.xSpeed >= 0 ? \"right\" : \"left\";\r\n\t}\r\n\r\n\tpublic constructor(worldPosition: MovingPoint, dimensions: Point, color: string, xSpeedLimit: number) {\r\n\t\tthis.worldPosition = worldPosition;\r\n\t\tthis.dimensions = dimensions;\r\n\t\tthis.internalColor = color;\r\n\t\tthis.horizontalSpeedLimit = xSpeedLimit;\r\n\r\n\t\tthis.verticalSpeedLimit = Block.verticalSpeedLimit;\r\n\r\n\t\tthis.initialWorldPosition = {\r\n\t\t\tdX: worldPosition.dX,\r\n\t\t\tdY: worldPosition.dY,\r\n\t\t\tx: worldPosition.x,\r\n\t\t\ty: worldPosition.y\r\n\t\t};\r\n\r\n\t\tthis.skew = 0;\r\n\t}\r\n\r\n\tpublic Tick(deltaTime: number): void {\r\n\t\t// Move \"forward\".\r\n\t\tthis.xPosition += (this.xSpeed * deltaTime);\r\n\t\tthis.yPosition += (this.ySpeed * deltaTime);\r\n\r\n\t\tif (this.onMoveCallback) {\r\n\t\t\t// The amount moved this tick is the same as the speed.\r\n\t\t\tthis.onMoveCallback({ x: this.xSpeed, y: this.ySpeed });\r\n\t\t}\r\n\r\n\t\tthis.skew = Math.max(0, this.skew - (Block.skewReduction * deltaTime));\r\n\r\n\t\tthis.verticalSpeedLimit += Block.verticalSpeedLimitDelta * deltaTime;\r\n\r\n\t\t// Clamp the speed to the speed limit.\r\n\t\tthis.ySpeed = Math.min(this.ySpeed, this.verticalSpeedLimit);\r\n\t\tthis.ySpeed = Math.max(this.ySpeed, -this.verticalSpeedLimit);\r\n\t\tthis.xSpeed = Math.min(this.xSpeed, this.horizontalSpeedLimit );\r\n\t\tthis.xSpeed = Math.max(this.xSpeed, -this.horizontalSpeedLimit );\r\n\t}\r\n\r\n\tpublic Render(renderContext: CanvasRenderingContext2D): Renderable[] {\r\n\r\n\t\trenderContext.beginPath();\r\n\r\n\t\tlet skewedPosition: Rectangle = this.skewedPosition;\r\n\r\n\t\trenderContext.rect(\r\n\t\t\tskewedPosition.x,\r\n\t\t\tskewedPosition.y,\r\n\t\t\tskewedPosition.width,\r\n\t\t\tskewedPosition.height);\r\n\r\n\t\trenderContext.fillStyle = this.fillColor;\r\n\t\trenderContext.fill();\r\n\r\n\t\trenderContext.closePath();\r\n\r\n\t\tlet particle: Particle = new Particle(\r\n\t\t\tskewedPosition.x,\r\n\t\t\tskewedPosition.y,\r\n\t\t\tskewedPosition.width,\r\n\t\t\tskewedPosition.height,\r\n\t\t\t0,\r\n\t\t\tthis.fillColor,\r\n\t\t\t0.1);\r\n\r\n\t\treturn [particle] as Renderable[];\r\n\t}\r\n\r\n\tpublic Reset(): void {\r\n\t\tthis.worldPosition = {\r\n\t\t\tdX: this.initialWorldPosition.dX,\r\n\t\t\tdY: this.initialWorldPosition.dY,\r\n\t\t\tx: this.initialWorldPosition.x,\r\n\t\t\ty: this.initialWorldPosition.y\r\n\t\t};\r\n\r\n\t\tthis.verticalSpeedLimit = Block.verticalSpeedLimit;\r\n\t}\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/block.ts\n **/","import {Renderable} from \"renderable\";\r\n\r\nexport class Particle implements Renderable {\r\n\tprivate static degrees: number = Math.PI / 180;\r\n\r\n\tpublic rotation: number;\r\n\tpublic isAlive: boolean;\r\n\r\n\tprivate xPosition: number;\r\n\tprivate yPosition: number;\r\n\tprivate width: number;\r\n\tprivate height: number;\r\n\tprivate color: string;\r\n\tprivate opacity: number;\r\n\r\n\tprivate get centerXPosition(): number {\r\n\t\treturn this.xPosition + (this.width / 2);\r\n\t}\r\n\r\n\tprivate get centerYPosition(): number {\r\n\t\treturn this.yPosition + (this.height / 2);\r\n\t}\r\n\r\n\tpublic constructor(\r\n\t\txPosition: number,\r\n\t\tyPosition: number,\r\n\t\twidth: number,\r\n\t\theight: number,\r\n\t\trotation: number,\r\n\t\tcolor: string,\r\n\t\topacity: number\r\n\t) {\r\n\t\tthis.xPosition = xPosition;\r\n\t\tthis.yPosition = yPosition;\r\n\t\tthis.width = width;\r\n\t\tthis.height = height;\r\n\t\tthis.rotation = rotation;\r\n\t\tthis.color = color;\r\n\t\tthis.opacity = opacity;\r\n\t\tthis.isAlive = true;\r\n\t}\r\n\r\n\tpublic Render(renderContext: CanvasRenderingContext2D): Renderable[] {\r\n\t\tthis.opacity -= 0.005;\r\n\t\tif (this.opacity <= 0) {\r\n\t\t\tthis.isAlive = false;\r\n\t\t} else {\r\n\t\t\trenderContext.save();\r\n\t\t\trenderContext.globalAlpha = this.opacity;\r\n\r\n\t\t\trenderContext.translate(this.centerXPosition, this.centerYPosition);\r\n\t\t\trenderContext.rotate(this.rotation * Particle.degrees);\r\n\t\t\trenderContext.translate(-this.centerXPosition, -this.centerYPosition);\r\n\r\n\t\t\trenderContext.beginPath();\r\n\r\n\t\t\trenderContext.rect(this.xPosition, this.yPosition, this.width, this.height);\r\n\r\n\t\t\trenderContext.fillStyle = this.color;\r\n\t\t\trenderContext.fill();\r\n\r\n\t\t\trenderContext.closePath();\r\n\r\n\t\t\trenderContext.globalAlpha = 1;\r\n\t\t\trenderContext.restore();\r\n\t\t}\r\n\r\n\t\treturn [] as Renderable[];\r\n\t}\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/particle.ts\n **/","import {PhysicsBlock} from \"physicsBlock\";\r\n\r\nexport class Collider {\r\n\tpublic static processCollisions(collidables: PhysicsBlock[]): void {\r\n\t\tif (collidables.length <= 1) {\r\n\t\t\t// Need multiple objects to perform collisions\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tfor (let i: number = 0; i < collidables.length - 1; i++) {\r\n\t\t\tlet collisionAction: (subject: PhysicsBlock, newYSpeed: number) => void = (subject: PhysicsBlock, newYSpeed: number) => {\r\n\t\t\t\tsubject.VerticalBounce(newYSpeed);\r\n\t\t\t};\r\n\r\n\t\t\tlet subject: PhysicsBlock = collidables[i];\r\n\r\n\t\t\tfor (let j: number = i + 1; j < collidables.length; j++) {\r\n\t\t\t\tlet target: PhysicsBlock = collidables[j];\r\n\r\n\t\t\t\tlet isVerticalOverlap: boolean = (subject.top < target.bottom) && (subject.bottom > target.top);\r\n\t\t\t\tlet isHorizontalOverlap: boolean = (subject.left < target.right) && (subject.right > target.left);\r\n\r\n\t\t\t\tif (isVerticalOverlap && isHorizontalOverlap) {\r\n\t\t\t\t\t// Always simulate a vertical bounce\r\n\t\t\t\t\t// If masses are the same speed can be swapped during an elastic collision\r\n\t\t\t\t\tlet subjectYSpeed: number = subject.ySpeed;\r\n\t\t\t\t\tlet targetYSpeed: number = target.ySpeed;\r\n\t\t\t\t\tcollisionAction(subject, targetYSpeed);\r\n\t\t\t\t\tcollisionAction(target, subjectYSpeed);\r\n\r\n\t\t\t\t\t// Only simulate a horizontal bound if the x overlap has just started\r\n\t\t\t\t\tlet subjectPreviousLeft: number = subject.xPosition - subject.xSpeed;\r\n\t\t\t\t\tlet subjectPreviousRight: number = subjectPreviousLeft + subject.width;\r\n\t\t\t\t\tlet targetPreviousLeft: number = target.xPosition - target.xSpeed;\r\n\t\t\t\t\tlet targetPreviousRight: number = targetPreviousLeft + target.width;\r\n\r\n\t\t\t\t\tlet wasHorizontalOverlap: boolean =\r\n\t\t\t\t\t\t(subjectPreviousLeft < targetPreviousRight)\r\n\t\t\t\t\t\t&& (subjectPreviousRight > targetPreviousLeft);\r\n\r\n\t\t\t\t\tif (!wasHorizontalOverlap) {\r\n\t\t\t\t\t\tsubject.xSpeed = -subject.xSpeed;\r\n\t\t\t\t\t\ttarget.xSpeed = -target.xSpeed;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/collider.ts\n **/","import {Block} from \"block\";\r\nimport {MovingPoint, Point} from \"point\";\r\nimport {Renderable} from \"renderable\";\r\nimport {Player} from \"player\";\r\n\r\nexport class Scoreboard extends Block {\r\n\tprivate static fontSizeInPx: number = 200;\r\n\tprivate static fontRotation: number = 0;\r\n\tprivate static bouncePoints: number = 1;\r\n\tprivate static degrees: number = Math.PI / 180;\r\n\r\n\tprivate player: Player;\r\n\tprivate score: number;\r\n\tprivate greatestHeightReached: number;\r\n\tprivate multiplier: number;\r\n\tprivate points: number;\r\n\r\n\tpublic constructor(player: Player, worldPosition: MovingPoint, dimensions: Point, color: string) {\r\n\t\tsuper(worldPosition, dimensions, color, 0);\r\n\r\n\t\tthis.player = player;\r\n\r\n\t\t// Shouldn't have to insert the nested function like this.\r\n\t\tthis.player.onBounce = () => {\r\n\t\t\tthis.score = Math.round((this.score + Scoreboard.bouncePoints) * 10) / 10;\r\n\t\t\tthis.player.Bounce();\r\n\t\t};\r\n\r\n\t\tlet originalOnMove: (amountMoved: Point) => void = this.player.onMove;\r\n\t\tthis.player.onMove = (amountMoved: Point) => {\r\n\r\n\t\t\tlet currentHeight: number = -this.player.top;\r\n\t\t\tif (currentHeight > this.greatestHeightReached) {\r\n\t\t\t\tthis.greatestHeightReached = currentHeight;\r\n\t\t\t\tthis.multiplier = Math.round(this.greatestHeightReached / 10) / 100;\r\n\t\t\t\tthis.points = Math.round(this.score * this.multiplier * 10) / 10;\r\n\t\t\t}\r\n\r\n\t\t\tif (originalOnMove) {\r\n\t\t\t\toriginalOnMove(amountMoved);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tthis.score = 0;\r\n\t\tthis.greatestHeightReached = 0;\r\n\t\tthis.multiplier = 0;\r\n\t\tthis.points = 0;\r\n\t}\r\n\r\n\tpublic Render(renderContext: CanvasRenderingContext2D): Renderable[] {\r\n\t\trenderContext.beginPath();\r\n\r\n\t\trenderContext.save();\r\n\r\n\t\trenderContext.fillStyle = this.fillColor;\r\n\t\trenderContext.font = \"\" + Scoreboard.fontSizeInPx + \"px Oswald\";\r\n\r\n\t\trenderContext.translate(this.centerXPosition, this.centerYPosition);\r\n\t\trenderContext.rotate(Scoreboard.fontRotation * Scoreboard.degrees);\r\n\t\trenderContext.translate(-this.centerXPosition, -this.centerYPosition);\r\n\r\n\t\trenderContext.fillText(this.score.toString(), this.xPosition, this.yPosition + Scoreboard.fontSizeInPx);\r\n\r\n\t\trenderContext.font = \"\" + (Scoreboard.fontSizeInPx / 2) + \"px Oswald\";\r\n\t\trenderContext.fillText(\"x \" + this.multiplier.toString(), this.xPosition, this.yPosition + (1.5 * Scoreboard.fontSizeInPx));\r\n\r\n\t\trenderContext.globalAlpha = 0.5;\r\n\t\trenderContext.fillStyle = this.player.fillColor;\r\n\t\trenderContext.fillText(\"~ \" + this.points.toString(), this.xPosition, this.yPosition + (2 * Scoreboard.fontSizeInPx));\r\n\r\n\t\trenderContext.restore();\r\n\r\n\t\treturn [] as Renderable[];\r\n\t}\r\n\r\n\tpublic get totalPoints(): number {\r\n\t\treturn this.points;\r\n\t}\r\n\r\n\tpublic Reset(): void {\r\n\t\tthis.score = 0;\r\n\t\tthis.greatestHeightReached = 0;\r\n\t\tthis.multiplier = 0;\r\n\t\tthis.points = 0;\r\n\t}\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/scoreboard.ts\n **/","import {Point} from \"point\";\r\nimport {Renderable} from \"renderable\";\r\n\r\nexport class Viewport {\r\n\tprivate renderContext: CanvasRenderingContext2D;\r\n\tprivate fixedRenderables: Renderable[];\r\n\tprivate backgroundRenderables: Renderable[];\r\n\tprivate foregroundRenderables: Renderable[];\r\n\tprivate initialBackgroundRenderables: Renderable[];\r\n\tprivate initialForegroundRenderables: Renderable[];\r\n\tprivate renderOffset: number;\r\n\r\n\tpublic get renderDimensions(): Point {\r\n\t\treturn {\r\n\t\t\tx: this.renderContext.canvas.width,\r\n\t\t\ty: this.renderContext.canvas.height\r\n\t\t};\r\n\t}\r\n\r\n\tpublic get offset(): number {\r\n\t\treturn this.renderOffset;\r\n\t}\r\n\r\n\tconstructor(\r\n\t\trenderContext: CanvasRenderingContext2D,\r\n\t\tfixedRenderables: Renderable[],\r\n\t\tbackgroundRenderables: Renderable[],\r\n\t\tforegroundRenderables: Renderable[]\r\n\t) {\r\n\t\tthis.renderContext = renderContext;\r\n\t\tthis.fixedRenderables = fixedRenderables;\r\n\t\tthis.backgroundRenderables = backgroundRenderables;\r\n\t\tthis.foregroundRenderables = foregroundRenderables;\r\n\t\tthis.initialBackgroundRenderables = [].concat(backgroundRenderables);\r\n\t\tthis.initialForegroundRenderables = [].concat(foregroundRenderables);\r\n\t\tthis.renderOffset = 0;\r\n\t}\r\n\r\n\tpublic SlideUpTo(y: number): void {\r\n\t\tif (y > this.renderOffset) {\r\n\t\t\tthis.renderOffset = y;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic Render(fps?: number): void {\r\n\t\tthis.renderContext.save();\r\n\r\n\t\tthis.renderContext.translate(0, this.renderOffset);\r\n\r\n\t\tthis.backgroundRenderables = this.RenderSubSet(this.backgroundRenderables);\r\n\r\n\t\tthis.renderContext.restore();\r\n\r\n\t\tthis.fixedRenderables = this.RenderSubSet(this.fixedRenderables);\r\n\r\n\t\tthis.renderContext.save();\r\n\r\n\t\tthis.renderContext.translate(0, this.renderOffset);\r\n\r\n\t\tthis.foregroundRenderables = this.RenderSubSet(this.foregroundRenderables);\r\n\r\n\t\tthis.renderContext.restore();\r\n\r\n\t\tif (fps) {\r\n\t\t\tthis.renderContext.fillStyle = \"#FFFFFF\";\r\n\t\t\tthis.renderContext.fillText(\"FPS: \" + fps.toString(), 0, 10);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic Reset(): void {\r\n\t\tthis.renderOffset = 0;\r\n\t\tthis.backgroundRenderables = [].concat(this.initialBackgroundRenderables);\r\n\t\tthis.foregroundRenderables = [].concat(this.initialForegroundRenderables);\r\n\t}\r\n\r\n\tprivate RenderSubSet(subSet: Renderable[]): Renderable[] {\r\n\t\tlet newRenderables: Renderable[] = subSet;\r\n\t\tfor (let i: number = 0; i < subSet.length; i++) {\r\n\t\t\tnewRenderables = subSet[i].Render(this.renderContext).concat(newRenderables);\r\n\t\t}\r\n\r\n\t\treturn newRenderables.filter((renderable: Renderable) => {\r\n\t\t\treturn renderable.isAlive;\r\n\t\t});\r\n\t}\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/viewport.ts\n **/","import {Renderable} from \"renderable\";\r\nimport {Controller} from \"controller\";\r\nimport {Background} from \"background\";\r\nimport {Sound} from \"sound\";\r\nimport {Volume} from \"volume\";\r\nimport {Sprite} from \"sprite\";\r\nimport {Point} from \"point\";\r\n\r\nexport class Menu implements Renderable {\r\n\tprivate static titleFontSizeInPx: number = 90;\r\n\tprivate static scoreFontSizeInPx: number = 50;\r\n\tprivate static playFontSizeInPx: number = 50;\r\n\tprivate static buttonWidth: number = 225;\r\n\tprivate static buttonHeight: number = 100;\r\n\tprivate static fadeInRate: number = 0.02;\r\n\r\n\tpublic isAlive: boolean = true;\r\n\r\n\tprivate renderDimensions: Point;\r\n\tprivate background: Background;\r\n\tprivate isMenuOpen: boolean;\r\n\tprivate playButtonPosition: Point;\r\n\tprivate isButtonHovered: boolean;\r\n\tprivate controller: Controller;\r\n\tprivate onStartGame: () => void;\r\n\tprivate opacity: number;\r\n\tprivate lastPoints: number;\r\n\tprivate scoreColor: string;\r\n\tprivate buttonHover: Sound;\r\n\tprivate buttonUnhover: Sound;\r\n\tprivate buttonClick: Sound;\r\n\tprivate controlPosition: Point;\r\n\tprivate controlDiagram: Sprite;\r\n\r\n\tpublic constructor(\r\n\t\trenderDimensions: Point,\r\n\t\tcontroller: Controller,\r\n\t\tbackground: Background,\r\n\t\tonStartGame: () => void,\r\n\t\tvolume: Volume\r\n\t) {\r\n\t\tthis.renderDimensions = renderDimensions;\r\n\t\tthis.background = background;\r\n\t\tthis.isMenuOpen = true;\r\n\t\tthis.isButtonHovered = false;\r\n\t\tthis.controller = controller;\r\n\t\tthis.onStartGame = onStartGame;\r\n\r\n\t\tthis.opacity = 0;\r\n\r\n\t\tthis.playButtonPosition = {\r\n\t\t\tx: (renderDimensions.x - Menu.buttonWidth) / 2,\r\n\t\t\ty: (renderDimensions.y - (Menu.buttonHeight * 2)) + 0.5 // 0.5 for stroke alignment\r\n\t\t};\r\n\r\n\t\tthis.buttonHover = volume.createSound(\"snd/button_on.wav\", {});\r\n\t\tthis.buttonUnhover = volume.createSound(\"snd/button_off.wav\", {});\r\n\t\tthis.buttonClick = volume.createSound(\"snd/button_click.wav\", {});\r\n\r\n\t\tthis.controlPosition = { x: 45, y: 300};\r\n\t\tthis.controlDiagram = new Sprite(\"img/controls.png\", { x: 390, y: 237 });\r\n\t}\r\n\r\n\tpublic Render(renderContext: CanvasRenderingContext2D): Renderable[] {\r\n\t\tlet mouseClick: Point = this.controller.getClickPosition();\r\n\t\tif ((mouseClick && this.isPointOnButton(mouseClick))\r\n\t\t\t|| this.controller.isKeyPressed(\"enter\")\r\n\t\t\t|| this.controller.isKeyPressed(\"e\")\r\n\t\t) {\r\n\t\t\tthis.buttonClick.play();\r\n\t\t\tthis.onStartGame();\r\n\t\t}\r\n\r\n\t\tlet buttonIsNowHovered: boolean = this.isPointOnButton(this.controller.getMousePosition());\r\n\r\n\t\tif (buttonIsNowHovered && !this.isButtonHovered) {\r\n\t\t\tthis.buttonHover.play();\r\n\t\t} else if (!buttonIsNowHovered && this.isButtonHovered) {\r\n\t\t\tthis.buttonUnhover.play();\r\n\t\t}\r\n\r\n\t\tthis.isButtonHovered = buttonIsNowHovered;\r\n\r\n\t\tthis.background.Render(renderContext);\r\n\r\n\t\tlet horizontalCenter: number = (this.renderDimensions.x / 2);\r\n\r\n\t\trenderContext.save();\r\n\r\n\t\trenderContext.font = \"\" + Menu.titleFontSizeInPx + \"px Oswald\";\r\n\t\trenderContext.fillStyle = \"rgba(255,255,255,\" + this.opacity + \")\";\r\n\t\trenderContext.textAlign = \"center\";\r\n\t\trenderContext.fillText(\"Quadrilactic\", horizontalCenter, Menu.titleFontSizeInPx + 50);\r\n\r\n\t\tif (this.lastPoints) {\r\n\t\t\trenderContext.save();\r\n\r\n\t\t\trenderContext.font = \"\" + Menu.scoreFontSizeInPx + \"px Oswald\";\r\n\t\t\trenderContext.fillStyle = this.scoreColor;\r\n\t\t\trenderContext.globalAlpha = this.opacity;\r\n\t\t\trenderContext.textAlign = \"center\";\r\n\t\t\trenderContext.fillText(\"Score: \" + this.lastPoints, horizontalCenter, Menu.titleFontSizeInPx + Menu.scoreFontSizeInPx + 70);\r\n\r\n\t\t\trenderContext.restore();\r\n\t\t}\r\n\r\n\t\tif (this.isButtonHovered) {\r\n\t\t\trenderContext.fillRect(\r\n\t\t\t\tthis.playButtonPosition.x,\r\n\t\t\t\tthis.playButtonPosition.y,\r\n\t\t\t\tMenu.buttonWidth,\r\n\t\t\t\tMenu.buttonHeight);\r\n\t\t}\r\n\t\trenderContext.strokeStyle = \"rgba(255,255,255,\" + this.opacity + \")\";\r\n\t\trenderContext.lineWidth = 3;\r\n\t\trenderContext.strokeRect(\r\n\t\t\tthis.playButtonPosition.x,\r\n\t\t\tthis.playButtonPosition.y,\r\n\t\t\tMenu.buttonWidth,\r\n\t\t\tMenu.buttonHeight);\r\n\r\n\t\trenderContext.font = \"\" + Menu.playFontSizeInPx + \"px Oswald\";\r\n\t\trenderContext.fillStyle = (this.isButtonHovered ? \"rgba(0,0,0,\" : \"rgba(255,255,255,\") + this.opacity + \")\";\r\n\t\trenderContext.textAlign = \"center\";\r\n\t\trenderContext.fillText(\"Play\", horizontalCenter, (Menu.playFontSizeInPx * 1.45) + this.playButtonPosition.y);\r\n\r\n\t\t// Draw the controls\r\n\t\trenderContext.globalAlpha = this.opacity;\r\n\t\trenderContext.translate(this.controlPosition.x, this.controlPosition.y);\r\n\t\tthis.controlDiagram.Render(renderContext);\r\n\r\n\t\trenderContext.restore();\r\n\r\n\t\tthis.opacity = Math.min(1, this.opacity + Menu.fadeInRate);\r\n\r\n\t\treturn [];\r\n\t}\r\n\r\n\tpublic showMenu(totalPoints: number, scoreColor: string): void {\r\n\t\tthis.isMenuOpen = true;\r\n\t\tthis.opacity = 0;\r\n\t\tthis.lastPoints = totalPoints;\r\n\t\tthis.scoreColor = scoreColor;\r\n\t}\r\n\r\n\tprivate isPointOnButton(point: Point): boolean {\r\n\t\treturn point\r\n\t\t\t&& point.x > this.playButtonPosition.x\r\n\t\t\t&& point.x < this.playButtonPosition.x + Menu.buttonWidth\r\n\t\t\t&& point.y > this.playButtonPosition.y\r\n\t\t\t&& point.y < this.playButtonPosition.y + Menu.buttonHeight;\r\n\t}\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/menu.ts\n **/","import {Renderable} from \"renderable\";\r\nimport {Controller} from \"controller\";\r\nimport {Sound, SoundOptions} from \"sound\";\r\nimport {Point} from \"point\";\r\nimport {Sprite} from \"sprite\";\r\n\r\nexport class Volume implements Renderable {\r\n\tprivate static opacityDecay: number =  0.02;\r\n\tprivate static fadedOpacity: number = 0.4;\r\n\tpublic isAlive: boolean = true;\r\n\tprivate soundButtonPosition: Point;\r\n\tprivate soundButtonDimensions: Point;\r\n\tprivate controller: Controller;\r\n\tprivate level: number;\r\n\tprivate volume0: Sprite;\r\n\tprivate volume1: Sprite;\r\n\tprivate volume2: Sprite;\r\n\tprivate volume3: Sprite;\r\n\tprivate volume4: Sprite;\r\n\tprivate opacity: number;\r\n\tprivate sounds: Sound[];\r\n\tprivate isVolumeKeyPressed: boolean;\r\n\tprivate volumeChanged: Sound;\r\n\r\n\tpublic constructor(renderDimensions: Point, controller: Controller) {\r\n\t\tthis.controller = controller;\r\n\r\n\t\tthis.soundButtonPosition = {\r\n\t\t\tx: renderDimensions.x - 40,\r\n\t\t\ty: 10\r\n\t\t};\r\n\r\n\t\tthis.soundButtonDimensions = {\r\n\t\t\tx: 30,\r\n\t\t\ty: 30\r\n\t\t};\r\n\r\n\t\tthis.opacity = Volume.fadedOpacity;\r\n\t\tthis.level = 2;\r\n\r\n\t\tthis.volume0 = new Sprite(\"img/volume0.png\", this.soundButtonDimensions);\r\n\t\tthis.volume1 = new Sprite(\"img/volume1.png\", this.soundButtonDimensions);\r\n\t\tthis.volume2 = new Sprite(\"img/volume2.png\", this.soundButtonDimensions);\r\n\t\tthis.volume3 = new Sprite(\"img/volume3.png\", this.soundButtonDimensions);\r\n\t\tthis.volume4 = new Sprite(\"img/volume4.png\", this.soundButtonDimensions);\r\n\r\n\t\tthis.isVolumeKeyPressed = false;\r\n\r\n\t\tthis.sounds = [];\r\n\r\n\t\tthis.volumeChanged = this.createSound(\"snd/volume.wav\", {});\r\n\t}\r\n\r\n\tpublic Render(renderContext: CanvasRenderingContext2D): Renderable[] {\r\n\t\tlet mouseClick: Point = this.controller.getClickPosition();\r\n\t\tif (mouseClick && this.isPointOnButton(mouseClick)) {\r\n\t\t\tthis.changeVolume();\r\n\t\t}\r\n\r\n\t\tif (this.isPointOnButton(this.controller.getMousePosition())) {\r\n\t\t\tthis.opacity = 1;\r\n\t\t}\r\n\r\n\t\tif (this.controller.isKeyPressed([\"m\", \"v\"])) {\r\n\t\t\tif (!this.isVolumeKeyPressed) {\r\n\t\t\t\tthis.changeVolume();\r\n\t\t\t\tthis.isVolumeKeyPressed = true;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis.isVolumeKeyPressed = false;\r\n\t\t}\r\n\r\n\t\tthis.opacity = Math.max(this.opacity - Volume.opacityDecay, Volume.fadedOpacity);\r\n\r\n\t\trenderContext.save();\r\n\r\n\t\trenderContext.globalAlpha = this.opacity;\r\n\r\n\t\trenderContext.translate(this.soundButtonPosition.x, this.soundButtonPosition.y);\r\n\r\n\t\tswitch (this.level) {\r\n\t\t\tcase 0:\r\n\t\t\t\tthis.volume0.Render(renderContext);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 1:\r\n\t\t\t\tthis.volume1.Render(renderContext);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 2:\r\n\t\t\t\tthis.volume2.Render(renderContext);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 3:\r\n\t\t\t\tthis.volume3.Render(renderContext);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 4:\r\n\t\t\t\tthis.volume4.Render(renderContext);\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tthis.volume4.Render(renderContext);\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\trenderContext.restore();\r\n\r\n\t\treturn [];\r\n\t}\r\n\r\n\tpublic createSound(path: string, options: SoundOptions): Sound\t{\r\n\t\tlet newSound: Sound = new Sound(path, options);\r\n\r\n\t\tnewSound.volume = this.level / 5;\r\n\r\n\t\tthis.sounds.push(newSound);\r\n\r\n\t\treturn newSound;\r\n\t}\r\n\r\n\tprivate isPointOnButton(point: Point): boolean {\r\n\t\treturn point\r\n\t\t\t&& point.x > this.soundButtonPosition.x\r\n\t\t\t&& point.x < this.soundButtonPosition.x + this.soundButtonDimensions.x\r\n\t\t\t&& point.y > this.soundButtonPosition.y\r\n\t\t\t&& point.y < this.soundButtonPosition.y + this.soundButtonDimensions.y;\r\n\t}\r\n\r\n\tprivate changeVolume(): void {\r\n\t\tthis.opacity = 1;\r\n\r\n\t\tthis.level = Math.round(this.level >= 4 ? 0 : this.level + 1);\r\n\r\n\t\tthis.sounds.forEach((sound: Sound) => {\r\n\t\t\tsound.volume = this.level / 5;\r\n\t\t});\r\n\r\n\t\tthis.volumeChanged.play();\r\n\t}\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/volume.ts\n **/","export interface SoundOptions {\r\n\tvolume?: number;\r\n\tisLooping?: boolean;\r\n}\r\n\r\nexport class Sound {\r\n\tprivate static defaultVolume: number = 0.3;\r\n\r\n\tprivate sound: HTMLAudioElement;\r\n\r\n\tconstructor(path: string, options: SoundOptions) {\r\n\t\tthis.sound = new Audio(path);\r\n\t\tthis.sound.volume = options.volume || Sound.defaultVolume;\r\n\t\tthis.sound.loop = options.isLooping === true;\r\n\t}\r\n\r\n\tpublic play(): void {\r\n\t\tthis.sound.play();\r\n\t}\r\n\r\n\tpublic set volume(newVolume: number) {\r\n\t\tthis.sound.volume = newVolume;\r\n\t}\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/sound.ts\n **/","import {PhysicsBlock} from \"physicsBlock\";\r\nimport {MovingPoint, Point} from \"point\";\r\nimport {Renderable} from \"renderable\";\r\nimport {Viewport} from \"viewport\";\r\nimport {Volume} from \"volume\";\r\n\r\nexport class Platform extends PhysicsBlock {\r\n\tprivate static platformSpeedIncrease: number = 1000;\r\n\r\n\tpublic viewport: Viewport;\r\n\r\n\tprivate get bottomOfScreen(): number {\r\n\t\treturn this.viewport.renderDimensions.y - this.viewport.offset;\r\n\t}\r\n\r\n\tprivate get offscreenAmount(): number {\r\n\t\treturn Math.max(this.top - this.bottomOfScreen, 0);\r\n\t}\r\n\r\n\tpublic constructor(\r\n\t\tworldPosition: MovingPoint,\r\n\t\tdimensions: Point,\r\n\t\tcolor: string,\r\n\t\tgravity: number,\r\n\t\tvolume: Volume,\r\n\t\tworldWidth: number\r\n\t) {\r\n\t\tsuper(worldPosition, dimensions, color, gravity, volume, 10, worldWidth);\r\n\t}\r\n\r\n\tpublic Tick(deltaTime: number): void {\r\n\t\tthis.xSpeed = this.xSpeed * (( Platform.platformSpeedIncrease + deltaTime) / Platform.platformSpeedIncrease);\r\n\r\n\t\tsuper.Tick(deltaTime);\r\n\t}\r\n\r\n\tpublic Render(renderContext: CanvasRenderingContext2D): Renderable[] {\r\n\t\tif (this.offscreenAmount <= 0) {\r\n\t\t\treturn super.Render(renderContext);\r\n\t\t} else {\r\n\t\t\trenderContext.save();\r\n\r\n\t\t\trenderContext.fillStyle = this.fillColor;\r\n\r\n\t\t\trenderContext.globalAlpha = 0.2;\r\n\t\t\trenderContext.fillRect(\r\n\t\t\t\tthis.left,\r\n\t\t\t\tthis.bottomOfScreen - this.height,\r\n\t\t\t\tthis.width,\r\n\t\t\t\tthis.height\r\n\t\t\t);\r\n\r\n\t\t\trenderContext.globalAlpha = 1;\r\n\t\t\trenderContext.fillRect(\r\n\t\t\t\tthis.left,\r\n\t\t\t\tthis.bottomOfScreen - this.height,\r\n\t\t\t\t((this.offscreenAmount / 10) % this.width),\r\n\t\t\t\tthis.height\r\n\t\t\t);\r\n\r\n\t\t\trenderContext.restore();\r\n\r\n\t\t\treturn [];\r\n\t\t}\r\n\t}\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/platform.ts\n **/","import {Point} from \"point\";\r\n\r\nexport class Controller {\r\n\tprivate static keyCodes: { [keyCode: number]: string } = {\r\n\t\t13: \"enter\",\r\n\t\t32: \"space\",\r\n\t\t37: \"left\",\r\n\t\t38: \"up\",\r\n\t\t39: \"right\",\r\n\t\t65: \"a\",\r\n\t\t68: \"d\",\r\n\t\t69: \"e\",\r\n\t\t77: \"m\",\r\n\t\t86: \"v\",\r\n\t\t87: \"w\"\r\n\t};\r\n\r\n\tprivate isKeyPressedState: { [keyName: string]: boolean } = {\r\n\t\t\"enter\": false,\r\n\t\t\"space\": false,\r\n\t\t\"left\": false,\r\n\t\t\"up\": false,\r\n\t\t\"right\": false,\r\n\t\t\"a\": false,\r\n\t\t\"d\": false,\r\n\t\t\"e\": false,\r\n\t\t\"m\": false,\r\n\t\t\"v\": false,\r\n\t\t\"w\": false\r\n\t};\r\n\r\n\tprivate mousePosition: Point;\r\n\r\n\tprivate clickLocation: Point;\r\n\r\n\tprivate canvas: HTMLCanvasElement;\r\n\r\n\tconstructor(canvas: HTMLCanvasElement) {\r\n\t\tthis.canvas = canvas;\r\n\r\n\t\twindow.addEventListener(\"keyup\", (event: KeyboardEvent) => {\r\n\t\t\tthis.handleKeyUp(event);\r\n\t\t});\r\n\r\n\t\twindow.addEventListener(\"keydown\", (event: KeyboardEvent) => {\r\n\t\t\tthis.handleKeyDown(event);\r\n\r\n\t\t\t// Prevent known key codes executing their default action.\r\n\t\t\tif (Controller.keyCodes[event.keyCode]) {\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tcanvas.addEventListener(\"mousemove\", (event: MouseEvent) => {\r\n\t\t\tthis.handleMouseMove(event);\r\n\t\t});\r\n\r\n\t\tcanvas.addEventListener(\"mousedown\", (event: MouseEvent) => {\r\n\t\t\tthis.handleMouseDown(event);\r\n\t\t});\r\n\t}\r\n\r\n\tpublic isKeyPressed(key: string | string[]): boolean {\r\n\t\tlet keys: string[] = [].concat(key);\r\n\t\treturn keys.some((value: string) => {\r\n\t\t\treturn this.isKeyPressedState[value];\r\n\t\t});\r\n\t}\r\n\r\n\tpublic getMousePosition(): Point {\r\n\t\treturn this.mousePosition;\r\n\t}\r\n\r\n\tpublic getClickPosition(): Point {\r\n\t\treturn this.clickLocation;\r\n\t}\r\n\r\n\tpublic clearClick(): void {\r\n\t\tthis.clickLocation = undefined;\r\n\t}\r\n\r\n\tprivate handleKeyUp(event: KeyboardEvent): void {\r\n\t\tlet key: string = Controller.keyCodes[event.keyCode];\r\n\t\tthis.isKeyPressedState[key] = false;\r\n\t}\r\n\r\n\tprivate handleKeyDown(event: KeyboardEvent): void {\r\n\t\tlet key: string = Controller.keyCodes[event.keyCode];\r\n\t\tthis.isKeyPressedState[key] = true;\r\n\t}\r\n\r\n\tprivate handleMouseMove(event: MouseEvent): void {\r\n\t\tlet canvasElementPosition: ClientRect = this.canvas.getBoundingClientRect();\r\n\t\tthis.mousePosition  = {\r\n\t\t\tx: event.clientX - canvasElementPosition.left,\r\n\t\t\ty: event.clientY - canvasElementPosition.top,\r\n\t\t};\r\n\t}\r\n\r\n\tprivate handleMouseDown(event: MouseEvent): void {\r\n\t\tlet canvasElementPosition: ClientRect = this.canvas.getBoundingClientRect();\r\n\t\tthis.clickLocation = {\r\n\t\t\tx: event.clientX - canvasElementPosition.left,\r\n\t\t\ty: event.clientY - canvasElementPosition.top,\r\n\t\t};\r\n\r\n\t\tevent.preventDefault();\r\n\t}\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/controller.ts\n **/"],"sourceRoot":""}