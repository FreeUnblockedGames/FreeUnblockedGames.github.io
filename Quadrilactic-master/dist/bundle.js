!function(t){function e(o){if(i[o])return i[o].exports;var n=i[o]={exports:{},id:o,loaded:!1};return t[o].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports}var i={};return e.m=t,e.c=i,e.p="dist/",e(0)}([function(t,e,i){var o,n;o=[i,e,i(1),i(15)],n=function(t,e,i,o){var n=document.getElementById("viewport"),s=new o.Controller(n);new i.Renderer(n,s).Start(),window.onload=function(){window.focus()},window.onclick=function(){window.focus()}}.apply(e,o),!(void 0!==n&&(t.exports=n))},function(t,e,i){var o,n;o=[i,e,i(4),i(8),i(9),i(2),i(10),i(11),i(12),i(14)],n=function(t,e,i,o,n,s,r,a,h,l){var u=function(){function t(e,o){var u=this;this.isRunning=!1,this.canvas=e,this.context=e.getContext("2d"),this.controller=o,this.volume=new h.Volume({x:this.canvas.width,y:this.canvas.height},o),this.backgroundMusic=this.volume.createSound("snd/music.wav",{isLooping:!0}),this.backgroundMusic.play(),this.deathSound=this.volume.createSound("snd/death.wav",{});var c={dX:2,dY:-2,x:30,y:110},p={x:30,y:30};this.player=new i.Player(c,p,"#FF0000",o,t.defaultGravity,t.gameWidth,this.volume),this.background=new s.Background({x:0,y:0},{x:this.canvas.width,y:this.canvas.height},"#222222",this.player);var d={dX:2,dY:2,x:30,y:690},f={x:90,y:20};this.platform=new l.Platform(d,f,"#FFFFFF",-t.defaultGravity,this.volume,t.gameWidth),this.platform.onBounce=function(){u.platform.ySpeed<t.minimumPlatformReboundSpeed&&(u.platform.ySpeed=t.minimumPlatformReboundSpeed)};var y={dX:0,dY:0,x:20,y:370},m={x:0,y:0};this.scoreboard=new n.Scoreboard(this.player,y,m,"rgba(255,255,255, 0.1)"),this.menu=new a.Menu({x:this.canvas.width,y:this.canvas.height},o,this.background,function(){u.player.Reset(),u.platform.Reset(),u.viewport.Reset(),u.scoreboard.Reset(),u.background.Reset(),u.isRunning=!0},this.volume),this.viewport=new r.Viewport(this.context,[this.background,this.scoreboard],[],[this.player,this.platform]),this.platform.viewport=this.viewport;var v=this.player.onMove;this.player.onMove=function(t){u.viewport.SlideUpTo(-u.player.yPosition+50),u.background.SlideUpTo(-u.player.yPosition),u.player.yPosition>-(u.viewport.offset-u.canvas.height)&&(u.isRunning=!1,u.deathSound.play(),u.menu.showMenu(u.scoreboard.totalPoints,u.player.fillColor)),v&&v(t)}}return t.prototype.Start=function(){var t=this;requestAnimationFrame(function(e){t.Tick(e)})},t.prototype.Tick=function(e){var i=this,n=this.lastTimestamp?e-this.lastTimestamp:0,s=n/t.timescale;this.lastTimestamp=e,this.lastFps=Math.round(1e3/n),this.Draw(),this.isRunning===!0&&(this.player.Tick(s),this.platform.Tick(s),o.Collider.processCollisions([this.player,this.platform])),this.controller.clearClick(),requestAnimationFrame(function(t){i.Tick(t)})},t.prototype.Draw=function(){this.isRunning?this.viewport.Render(this.lastFps):this.menu.Render(this.context),this.volume.Render(this.context)},t.defaultGravity=.2,t.gameWidth=480,t.minimumPlatformReboundSpeed=10,t.timescale=16,t}();e.Renderer=u}.apply(e,o),!(void 0!==n&&(t.exports=n))},function(t,e,i){var o,n;o=[i,e,i(3)],n=function(t,e,i){var o=function(){function t(t,e,o,n){this.isAlive=!0,this.showArrow=!1,this.offset=0,this.renderPosition=t,this.renderDimensions=e,this.color=o,this.staticBackground=new i.Sprite("img/staticBackground.png",e),this.stars1=new i.Sprite("img/stars1.png",{x:e.x,y:2*e.y}),this.stars2=new i.Sprite("img/stars2.png",{x:e.x,y:2*e.y}),this.upArrow=new i.Sprite("img/upArrow.png",{x:120,y:99})}return t.prototype.SlideUpTo=function(t){t>this.offset&&(this.offset=t)},t.prototype.Render=function(t){var e=[];e=e.concat(this.staticBackground.Render(t));var i=this.offset%(2*this.renderDimensions.y),o=i-2*this.renderDimensions.y;t.save(),t.translate(0,i),e=e.concat(this.stars1.Render(t)),t.restore(),t.save(),t.translate(0,o),e=e.concat(this.stars1.Render(t)),t.restore();var n=this.offset/2%(2*this.renderDimensions.y),s=n-2*this.renderDimensions.y;return t.save(),t.translate(0,n),e=e.concat(this.stars2.Render(t)),t.restore(),t.save(),t.translate(0,s),e=e.concat(this.stars2.Render(t)),t.restore(),this.showArrow&&this.offset<2*this.renderDimensions.y&&(t.save(),t.globalAlpha=.5,t.translate(300,this.offset+40),this.upArrow.Render(t),t.restore()),e},t.prototype.Reset=function(){this.showArrow=!0,this.offset=0},t}();e.Background=o}.apply(e,o),!(void 0!==n&&(t.exports=n))},function(t,e,i){var o,n;o=[i,e],n=function(t,e){var i=function(){function t(t,e){var i=this;this.isAlive=!0,this.image=new Image,this.image.addEventListener("load",function(){i.loaded()},!1),this.image.src=t,this.dimensions=e}return Object.defineProperty(t.prototype,"dimensions",{set:function(t){this.internalDimensions=t},enumerable:!0,configurable:!0}),t.prototype.Render=function(t){return t.drawImage(this.image,0,0,this.image.width,this.image.height,0,0,this.internalDimensions.x,this.internalDimensions.y),[]},t.prototype.loaded=function(){console.log("Loaded: "+this.image.src)},t}();e.Sprite=i}.apply(e,o),!(void 0!==n&&(t.exports=n))},function(t,e,i){var o,n,s=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)};o=[i,e,i(5),i(3)],n=function(t,e,i,o){var n=function(t){function e(e,i,n,s,r,a,h){t.call(this,e,i,n,r,h,7,a),this.onBounce=this.Bounce,this.controller=s,this.isJumping=!1,this.jumpRotationAmount=0,this.faceUp=new o.Sprite("img/faceHappy.png",i),this.faceDown=new o.Sprite("img/faceWorried.png",i),this.faceHover=new o.Sprite("img/faceChill.png",i),this.jump=h.createSound("snd/jump.wav",{}),this.bounce=h.createSound("snd/blip3.wav",{})}return s(e,t),e.prototype.Tick=function(i){t.prototype.Tick.call(this,i),!this.isJumping&&this.controller.isKeyPressed(["up","space","w"])&&(this.jump.play(),this.ySpeed=e.jumpSpeedIncrease*i,this.isJumping=!0,this.jumpRotationSpeed="right"===this.direction?e.initialJumpRotationSpeed:-e.initialJumpRotationSpeed),this.controller.isKeyPressed(["left","a"])&&(this.xSpeed-=e.horizontalSpeedIncrease*i),this.controller.isKeyPressed(["right","d"])&&(this.xSpeed+=e.horizontalSpeedIncrease*i),this.jumpRotationAmount+=this.jumpRotationSpeed*i,this.jumpRotationSpeed>0?this.jumpRotationSpeed=Math.max(0,this.jumpRotationSpeed-e.jumpRotationSlowDown):this.jumpRotationSpeed<0&&(this.jumpRotationSpeed=Math.min(0,this.jumpRotationSpeed+e.jumpRotationSlowDown)),this.jumpRotationAmount+=this.xSpeed/2},e.prototype.Bounce=function(){this.isJumping=!1,this.jumpRotationAmount=0,this.jumpRotationSpeed=0,this.bounce.play()},e.prototype.Render=function(i){var o=this;i.save(),i.translate(this.centerXPosition,this.centerYPosition),i.rotate(this.jumpRotationAmount*e.degrees),i.translate(-this.centerXPosition,-this.centerYPosition);var n;n=this.ySpeed>e.faceSwapThreshold?this.faceDown:this.ySpeed<-e.faceSwapThreshold?this.faceUp:this.faceHover;var s=Math.max(Math.round(15-Math.abs(this.xSpeed)),0).toString(16),r=Math.max(Math.round(15-Math.abs(this.ySpeed)),0).toString(16);this.fillColor="#"+r+r+"ff"+s+s;var a=t.prototype.Render.call(this,i);a.forEach(function(t){t.rotation=o.jumpRotationAmount}),i.restore(),i.save(),i.translate(this.centerXPosition,this.centerYPosition),i.rotate(this.jumpRotationAmount*e.degrees),i.translate(-this.centerXPosition,-this.centerYPosition);var h=this.skewedPosition;return i.translate(h.x,h.y),n.dimensions={x:h.width,y:h.height},a=a.concat(n.Render(i)),i.restore(),a},e.prototype.Reset=function(){t.prototype.Reset.call(this),this.isJumping=!1,this.jumpRotationAmount=0,this.jumpRotationSpeed=0},e.jumpSpeedIncrease=-8,e.degrees=Math.PI/180,e.jumpRotationSlowDown=.1,e.initialJumpRotationSpeed=15,e.horizontalSpeedIncrease=.5,e.faceSwapThreshold=3.5,e}(i.PhysicsBlock);e.Player=n}.apply(e,o),!(void 0!==n&&(t.exports=n))},function(t,e,i){var o,n,s=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)};o=[i,e,i(6)],n=function(t,e,i){var o=function(t){function e(e,i,o,n,s,r,a){t.call(this,e,i,o,r),this.internalGravity=n,this.worldWidth=a,this.rebound=s.createSound("snd/blip.wav",{})}return s(e,t),Object.defineProperty(e.prototype,"gravity",{get:function(){return this.internalGravity},set:function(t){this.internalGravity=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onBounce",{get:function(){return this.onBounceCallback},set:function(t){this.onBounceCallback=t},enumerable:!0,configurable:!0}),e.prototype.Tick=function(e){t.prototype.Tick.call(this,e),this.right>this.worldWidth&&(this.rebound.play(),this.skew+=3,this.xPosition=this.worldWidth-this.width,this.xSpeed=-Math.abs(this.xSpeed)),this.left<0&&(this.rebound.play(),this.xPosition=0,this.skew+=3,this.xSpeed=Math.abs(this.xSpeed)),this.ySpeed+=this.internalGravity*e},e.prototype.Render=function(e){return t.prototype.Render.call(this,e)},e.prototype.VerticalBounce=function(t){this.ySpeed=t,this.skew+=10,this.onBounceCallback&&this.onBounceCallback()},e.prototype.Reset=function(){t.prototype.Reset.call(this)},e}(i.Block);e.PhysicsBlock=o}.apply(e,o),!(void 0!==n&&(t.exports=n))},function(t,e,i){var o,n;o=[i,e,i(7)],n=function(t,e,i){var o=function(){function t(e,i,o,n){this.isAlive=!0,this.worldPosition=e,this.dimensions=i,this.internalColor=o,this.horizontalSpeedLimit=n,this.verticalSpeedLimit=t.verticalSpeedLimit,this.initialWorldPosition={dX:e.dX,dY:e.dY,x:e.x,y:e.y},this.skew=0}return Object.defineProperty(t.prototype,"xPosition",{get:function(){return this.worldPosition.x},set:function(t){this.worldPosition.x=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yPosition",{get:function(){return this.worldPosition.y},set:function(t){this.worldPosition.y=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"xSpeed",{get:function(){return this.worldPosition.dX},set:function(t){this.worldPosition.dX=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ySpeed",{get:function(){return this.worldPosition.dY},set:function(t){this.worldPosition.dY=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.dimensions.x},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.dimensions.y},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fillColor",{get:function(){return this.internalColor},set:function(t){this.internalColor=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){return this.worldPosition.x},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.worldPosition.x+this.dimensions.x},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.worldPosition.y},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.worldPosition.y+this.dimensions.y},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"centerXPosition",{get:function(){return this.left+this.width/2},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"centerYPosition",{get:function(){return this.top+this.height/2},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onMove",{get:function(){return this.onMoveCallback},set:function(t){this.onMoveCallback=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"skewedPosition",{get:function(){var e=0===this.skew?0:Math.sin(this.skew);e*=this.skew;var i=e*this.width*t.skewScale,o=e*this.height*t.skewScale;return{height:this.height+o,width:this.width-i,x:this.xPosition+i/2,y:this.yPosition-o/2}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"direction",{get:function(){return this.xSpeed>=0?"right":"left"},enumerable:!0,configurable:!0}),t.prototype.Tick=function(e){this.xPosition+=this.xSpeed*e,this.yPosition+=this.ySpeed*e,this.onMoveCallback&&this.onMoveCallback({x:this.xSpeed,y:this.ySpeed}),this.skew=Math.max(0,this.skew-t.skewReduction*e),this.verticalSpeedLimit+=t.verticalSpeedLimitDelta*e,this.ySpeed=Math.min(this.ySpeed,this.verticalSpeedLimit),this.ySpeed=Math.max(this.ySpeed,-this.verticalSpeedLimit),this.xSpeed=Math.min(this.xSpeed,this.horizontalSpeedLimit),this.xSpeed=Math.max(this.xSpeed,-this.horizontalSpeedLimit)},t.prototype.Render=function(t){t.beginPath();var e=this.skewedPosition;t.rect(e.x,e.y,e.width,e.height),t.fillStyle=this.fillColor,t.fill(),t.closePath();var o=new i.Particle(e.x,e.y,e.width,e.height,0,this.fillColor,.1);return[o]},t.prototype.Reset=function(){this.worldPosition={dX:this.initialWorldPosition.dX,dY:this.initialWorldPosition.dY,x:this.initialWorldPosition.x,y:this.initialWorldPosition.y},this.verticalSpeedLimit=t.verticalSpeedLimit},t.verticalSpeedLimit=10,t.verticalSpeedLimitDelta=.01,t.skewScale=.07,t.skewReduction=.3,t}();e.Block=o}.apply(e,o),!(void 0!==n&&(t.exports=n))},function(t,e,i){var o,n;o=[i,e],n=function(t,e){var i=function(){function t(t,e,i,o,n,s,r){this.xPosition=t,this.yPosition=e,this.width=i,this.height=o,this.rotation=n,this.color=s,this.opacity=r,this.isAlive=!0}return Object.defineProperty(t.prototype,"centerXPosition",{get:function(){return this.xPosition+this.width/2},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"centerYPosition",{get:function(){return this.yPosition+this.height/2},enumerable:!0,configurable:!0}),t.prototype.Render=function(e){return this.opacity-=.005,this.opacity<=0?this.isAlive=!1:(e.save(),e.globalAlpha=this.opacity,e.translate(this.centerXPosition,this.centerYPosition),e.rotate(this.rotation*t.degrees),e.translate(-this.centerXPosition,-this.centerYPosition),e.beginPath(),e.rect(this.xPosition,this.yPosition,this.width,this.height),e.fillStyle=this.color,e.fill(),e.closePath(),e.globalAlpha=1,e.restore()),[]},t.degrees=Math.PI/180,t}();e.Particle=i}.apply(e,o),!(void 0!==n&&(t.exports=n))},function(t,e,i){var o,n;o=[i,e],n=function(t,e){var i=function(){function t(){}return t.processCollisions=function(t){if(!(t.length<=1))for(var e=0;e<t.length-1;e++)for(var i=function(t,e){t.VerticalBounce(e)},o=t[e],n=e+1;n<t.length;n++){var s=t[n],r=o.top<s.bottom&&o.bottom>s.top,a=o.left<s.right&&o.right>s.left;if(r&&a){var h=o.ySpeed,l=s.ySpeed;i(o,l),i(s,h);var u=o.xPosition-o.xSpeed,c=u+o.width,p=s.xPosition-s.xSpeed,d=p+s.width,f=d>u&&c>p;f||(o.xSpeed=-o.xSpeed,s.xSpeed=-s.xSpeed)}}},t}();e.Collider=i}.apply(e,o),!(void 0!==n&&(t.exports=n))},function(t,e,i){var o,n,s=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)};o=[i,e,i(6)],n=function(t,e,i){var o=function(t){function e(i,o,n,s){var r=this;t.call(this,o,n,s,0),this.player=i,this.player.onBounce=function(){r.score=Math.round(10*(r.score+e.bouncePoints))/10,r.player.Bounce()};var a=this.player.onMove;this.player.onMove=function(t){var e=-r.player.top;e>r.greatestHeightReached&&(r.greatestHeightReached=e,r.multiplier=Math.round(r.greatestHeightReached/10)/100,r.points=Math.round(r.score*r.multiplier*10)/10),a&&a(t)},this.score=0,this.greatestHeightReached=0,this.multiplier=0,this.points=0}return s(e,t),e.prototype.Render=function(t){return t.beginPath(),t.save(),t.fillStyle=this.fillColor,t.font=""+e.fontSizeInPx+"px Oswald",t.translate(this.centerXPosition,this.centerYPosition),t.rotate(e.fontRotation*e.degrees),t.translate(-this.centerXPosition,-this.centerYPosition),t.fillText(this.score.toString(),this.xPosition,this.yPosition+e.fontSizeInPx),t.font=""+e.fontSizeInPx/2+"px Oswald",t.fillText("x "+this.multiplier.toString(),this.xPosition,this.yPosition+1.5*e.fontSizeInPx),t.globalAlpha=.5,t.fillStyle=this.player.fillColor,t.fillText("~ "+this.points.toString(),this.xPosition,this.yPosition+2*e.fontSizeInPx),t.restore(),[]},Object.defineProperty(e.prototype,"totalPoints",{get:function(){return this.points},enumerable:!0,configurable:!0}),e.prototype.Reset=function(){this.score=0,this.greatestHeightReached=0,this.multiplier=0,this.points=0},e.fontSizeInPx=200,e.fontRotation=0,e.bouncePoints=1,e.degrees=Math.PI/180,e}(i.Block);e.Scoreboard=o}.apply(e,o),!(void 0!==n&&(t.exports=n))},function(t,e,i){var o,n;o=[i,e],n=function(t,e){var i=function(){function t(t,e,i,o){this.renderContext=t,this.fixedRenderables=e,this.backgroundRenderables=i,this.foregroundRenderables=o,this.initialBackgroundRenderables=[].concat(i),this.initialForegroundRenderables=[].concat(o),this.renderOffset=0}return Object.defineProperty(t.prototype,"renderDimensions",{get:function(){return{x:this.renderContext.canvas.width,y:this.renderContext.canvas.height}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"offset",{get:function(){return this.renderOffset},enumerable:!0,configurable:!0}),t.prototype.SlideUpTo=function(t){t>this.renderOffset&&(this.renderOffset=t)},t.prototype.Render=function(t){this.renderContext.save(),this.renderContext.translate(0,this.renderOffset),this.backgroundRenderables=this.RenderSubSet(this.backgroundRenderables),this.renderContext.restore(),this.fixedRenderables=this.RenderSubSet(this.fixedRenderables),this.renderContext.save(),this.renderContext.translate(0,this.renderOffset),this.foregroundRenderables=this.RenderSubSet(this.foregroundRenderables),this.renderContext.restore(),t&&(this.renderContext.fillStyle="#FFFFFF",this.renderContext.fillText("FPS: "+t.toString(),0,10))},t.prototype.Reset=function(){this.renderOffset=0,this.backgroundRenderables=[].concat(this.initialBackgroundRenderables),this.foregroundRenderables=[].concat(this.initialForegroundRenderables)},t.prototype.RenderSubSet=function(t){for(var e=t,i=0;i<t.length;i++)e=t[i].Render(this.renderContext).concat(e);return e.filter(function(t){return t.isAlive})},t}();e.Viewport=i}.apply(e,o),!(void 0!==n&&(t.exports=n))},function(t,e,i){var o,n;o=[i,e,i(3)],n=function(t,e,i){var o=function(){function t(e,o,n,s,r){this.isAlive=!0,this.renderDimensions=e,this.background=n,this.isMenuOpen=!0,this.isButtonHovered=!1,this.controller=o,this.onStartGame=s,this.opacity=0,this.playButtonPosition={x:(e.x-t.buttonWidth)/2,y:e.y-2*t.buttonHeight+.5},this.buttonHover=r.createSound("snd/button_on.wav",{}),this.buttonUnhover=r.createSound("snd/button_off.wav",{}),this.buttonClick=r.createSound("snd/button_click.wav",{}),this.controlPosition={x:45,y:300},this.controlDiagram=new i.Sprite("img/controls.png",{x:390,y:237})}return t.prototype.Render=function(e){var i=this.controller.getClickPosition();(i&&this.isPointOnButton(i)||this.controller.isKeyPressed("enter")||this.controller.isKeyPressed("e"))&&(this.buttonClick.play(),this.onStartGame());var o=this.isPointOnButton(this.controller.getMousePosition());o&&!this.isButtonHovered?this.buttonHover.play():!o&&this.isButtonHovered&&this.buttonUnhover.play(),this.isButtonHovered=o,this.background.Render(e);var n=this.renderDimensions.x/2;return e.save(),e.font=""+t.titleFontSizeInPx+"px Oswald",e.fillStyle="rgba(255,255,255,"+this.opacity+")",e.textAlign="center",e.fillText("Quadrilactic",n,t.titleFontSizeInPx+50),this.lastPoints&&(e.save(),e.font=""+t.scoreFontSizeInPx+"px Oswald",e.fillStyle=this.scoreColor,e.globalAlpha=this.opacity,e.textAlign="center",e.fillText("Score: "+this.lastPoints,n,t.titleFontSizeInPx+t.scoreFontSizeInPx+70),e.restore()),this.isButtonHovered&&e.fillRect(this.playButtonPosition.x,this.playButtonPosition.y,t.buttonWidth,t.buttonHeight),e.strokeStyle="rgba(255,255,255,"+this.opacity+")",e.lineWidth=3,e.strokeRect(this.playButtonPosition.x,this.playButtonPosition.y,t.buttonWidth,t.buttonHeight),e.font=""+t.playFontSizeInPx+"px Oswald",e.fillStyle=(this.isButtonHovered?"rgba(0,0,0,":"rgba(255,255,255,")+this.opacity+")",e.textAlign="center",e.fillText("Play",n,1.45*t.playFontSizeInPx+this.playButtonPosition.y),e.globalAlpha=this.opacity,e.translate(this.controlPosition.x,this.controlPosition.y),this.controlDiagram.Render(e),e.restore(),this.opacity=Math.min(1,this.opacity+t.fadeInRate),[]},t.prototype.showMenu=function(t,e){this.isMenuOpen=!0,this.opacity=0,this.lastPoints=t,this.scoreColor=e},t.prototype.isPointOnButton=function(e){return e&&e.x>this.playButtonPosition.x&&e.x<this.playButtonPosition.x+t.buttonWidth&&e.y>this.playButtonPosition.y&&e.y<this.playButtonPosition.y+t.buttonHeight},t.titleFontSizeInPx=90,t.scoreFontSizeInPx=50,t.playFontSizeInPx=50,t.buttonWidth=225,t.buttonHeight=100,t.fadeInRate=.02,t}();e.Menu=o}.apply(e,o),!(void 0!==n&&(t.exports=n))},function(t,e,i){var o,n;o=[i,e,i(13),i(3)],n=function(t,e,i,o){var n=function(){function t(e,i){this.isAlive=!0,this.controller=i,this.soundButtonPosition={x:e.x-40,y:10},this.soundButtonDimensions={x:30,y:30},this.opacity=t.fadedOpacity,this.level=2,this.volume0=new o.Sprite("img/volume0.png",this.soundButtonDimensions),this.volume1=new o.Sprite("img/volume1.png",this.soundButtonDimensions),this.volume2=new o.Sprite("img/volume2.png",this.soundButtonDimensions),this.volume3=new o.Sprite("img/volume3.png",this.soundButtonDimensions),this.volume4=new o.Sprite("img/volume4.png",this.soundButtonDimensions),this.isVolumeKeyPressed=!1,this.sounds=[],this.volumeChanged=this.createSound("snd/volume.wav",{})}return t.prototype.Render=function(e){var i=this.controller.getClickPosition();switch(i&&this.isPointOnButton(i)&&this.changeVolume(),this.isPointOnButton(this.controller.getMousePosition())&&(this.opacity=1),this.controller.isKeyPressed(["m","v"])?this.isVolumeKeyPressed||(this.changeVolume(),this.isVolumeKeyPressed=!0):this.isVolumeKeyPressed=!1,this.opacity=Math.max(this.opacity-t.opacityDecay,t.fadedOpacity),e.save(),e.globalAlpha=this.opacity,e.translate(this.soundButtonPosition.x,this.soundButtonPosition.y),this.level){case 0:this.volume0.Render(e);break;case 1:this.volume1.Render(e);break;case 2:this.volume2.Render(e);break;case 3:this.volume3.Render(e);break;case 4:this.volume4.Render(e);break;default:this.volume4.Render(e)}return e.restore(),[]},t.prototype.createSound=function(t,e){var o=new i.Sound(t,e);return o.volume=this.level/5,this.sounds.push(o),o},t.prototype.isPointOnButton=function(t){return t&&t.x>this.soundButtonPosition.x&&t.x<this.soundButtonPosition.x+this.soundButtonDimensions.x&&t.y>this.soundButtonPosition.y&&t.y<this.soundButtonPosition.y+this.soundButtonDimensions.y},t.prototype.changeVolume=function(){var t=this;this.opacity=1,this.level=Math.round(this.level>=4?0:this.level+1),this.sounds.forEach(function(e){e.volume=t.level/5}),this.volumeChanged.play()},t.opacityDecay=.02,t.fadedOpacity=.4,t}();e.Volume=n}.apply(e,o),!(void 0!==n&&(t.exports=n))},function(t,e,i){var o,n;o=[i,e],n=function(t,e){var i=function(){function t(e,i){this.sound=new Audio(e),this.sound.volume=i.volume||t.defaultVolume,this.sound.loop=i.isLooping===!0}return t.prototype.play=function(){this.sound.play()},Object.defineProperty(t.prototype,"volume",{set:function(t){this.sound.volume=t},enumerable:!0,configurable:!0}),t.defaultVolume=.3,t}();e.Sound=i}.apply(e,o),!(void 0!==n&&(t.exports=n))},function(t,e,i){var o,n,s=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)};o=[i,e,i(5)],n=function(t,e,i){var o=function(t){function e(e,i,o,n,s,r){t.call(this,e,i,o,n,s,10,r)}return s(e,t),Object.defineProperty(e.prototype,"bottomOfScreen",{get:function(){return this.viewport.renderDimensions.y-this.viewport.offset},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"offscreenAmount",{get:function(){return Math.max(this.top-this.bottomOfScreen,0)},enumerable:!0,configurable:!0}),e.prototype.Tick=function(i){this.xSpeed=this.xSpeed*((e.platformSpeedIncrease+i)/e.platformSpeedIncrease),t.prototype.Tick.call(this,i)},e.prototype.Render=function(e){return this.offscreenAmount<=0?t.prototype.Render.call(this,e):(e.save(),e.fillStyle=this.fillColor,e.globalAlpha=.2,e.fillRect(this.left,this.bottomOfScreen-this.height,this.width,this.height),e.globalAlpha=1,e.fillRect(this.left,this.bottomOfScreen-this.height,this.offscreenAmount/10%this.width,this.height),e.restore(),[])},e.platformSpeedIncrease=1e3,e}(i.PhysicsBlock);e.Platform=o}.apply(e,o),!(void 0!==n&&(t.exports=n))},function(t,e,i){var o,n;o=[i,e],n=function(t,e){var i=function(){function t(e){var i=this;this.isKeyPressedState={enter:!1,space:!1,left:!1,up:!1,right:!1,a:!1,d:!1,e:!1,m:!1,v:!1,w:!1},this.canvas=e,window.addEventListener("keyup",function(t){i.handleKeyUp(t)}),window.addEventListener("keydown",function(e){i.handleKeyDown(e),t.keyCodes[e.keyCode]&&e.preventDefault()}),e.addEventListener("mousemove",function(t){i.handleMouseMove(t)}),e.addEventListener("mousedown",function(t){i.handleMouseDown(t)})}return t.prototype.isKeyPressed=function(t){var e=this,i=[].concat(t);return i.some(function(t){return e.isKeyPressedState[t]})},t.prototype.getMousePosition=function(){return this.mousePosition},t.prototype.getClickPosition=function(){return this.clickLocation},t.prototype.clearClick=function(){this.clickLocation=void 0},t.prototype.handleKeyUp=function(e){var i=t.keyCodes[e.keyCode];this.isKeyPressedState[i]=!1},t.prototype.handleKeyDown=function(e){var i=t.keyCodes[e.keyCode];this.isKeyPressedState[i]=!0},t.prototype.handleMouseMove=function(t){var e=this.canvas.getBoundingClientRect();this.mousePosition={x:t.clientX-e.left,y:t.clientY-e.top}},t.prototype.handleMouseDown=function(t){var e=this.canvas.getBoundingClientRect();this.clickLocation={x:t.clientX-e.left,y:t.clientY-e.top},t.preventDefault()},t.keyCodes={13:"enter",32:"space",37:"left",38:"up",39:"right",65:"a",68:"d",69:"e",77:"m",86:"v",87:"w"},t}();e.Controller=i}.apply(e,o),!(void 0!==n&&(t.exports=n))}]);
//# sourceMappingURL=bundle.js.map